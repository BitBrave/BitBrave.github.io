<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
<meta property="og:type" content="website">
<meta property="og:title" content="BitBrave">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="BitBrave">
<meta property="og:description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="XJ">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>BitBrave</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BitBrave</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">IIE</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/03/LeetCode(1218.%20Longest%20Arithmetic%20Subsequence%20of%20Given%20Difference)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/03/LeetCode(1218.%20Longest%20Arithmetic%20Subsequence%20of%20Given%20Difference)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1218. Longest Arithmetic Subsequence of Given Difference)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-03 00:12:21 / 修改时间：00:12:30" itemprop="dateCreated datePublished" datetime="2020-04-03T00:12:21+08:00">2020-04-03</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1218-Longest-Arithmetic-Subsequence-of-Given-Difference-题解"><a href="#LeetCode-1218-Longest-Arithmetic-Subsequence-of-Given-Difference-题解" class="headerlink" title="LeetCode(\1218. Longest Arithmetic Subsequence of Given Difference)题解"></a>LeetCode(\1218. Longest Arithmetic Subsequence of Given Difference)题解</h1><p>Given an integer array <code>arr</code> and an integer <code>difference</code>, return the length of the longest subsequence in <code>arr</code> which is an arithmetic sequence such that the difference between adjacent elements in the subsequence equals <code>difference</code>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: arr &#x3D; [1,2,3,4], difference &#x3D; 1</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: The longest arithmetic subsequence is [1,2,3,4].</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: arr &#x3D; [1,3,5,7], difference &#x3D; 1</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: The longest arithmetic subsequence is any single element.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: arr &#x3D; [1,5,7,8,5,3,4,2,1], difference &#x3D; -2</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: The longest arithmetic subsequence is [7,5,3,1].</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= arr.length &lt;= 10^5</code></li>
<li><code>-10^4 &lt;= arr[i], difference &lt;= 10^4</code></li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Medium</p>
<p>给一个数组arr和一个差值difference，在数组中找出一个最长的等差子序列，返回其长度。</p>
<p>这个题很明显使用DP，一个普通的解法是使用一个dp一维数组，每个位置记录以arr对应位置元素结尾的左边的数组的最长等差子序列，这样的时间复杂度O(N2)。</p>
<p>不过利用等差数列的性质可以很容易优化这个问题，我们使用Map记录每个以每个元素结尾的最长的等差子序列。从左到右遍历arr，遇到元素a，查看a-difference在不在map中，如果在说明可以和前面的组成等差序列，结果就为M[a] = M[a-difference]+1；如果不等，M[a] = 1.</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上O(n)，空间上，O(n)。</p>
<p><code>Runtime: 224 ms, faster than 24.73% of C++ online submissions for Longest Arithmetic Subsequence of Given Difference.</code></p>
<p><code>Memory Usage: 20.5 MB, less than 100.00% of C++ online submissions for Longest Arithmetic Subsequence of Given Difference.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestSubsequence</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr, <span class="keyword">int</span> difference)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = arr.<span class="built_in">size</span>(), res = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; M;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> a : arr) &#123;</span><br><span class="line">            <span class="keyword">if</span> (M.<span class="built_in">find</span>(a - difference) == M.<span class="built_in">end</span>()) M[a] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> M[a] = M[a - difference] + <span class="number">1</span>;</span><br><span class="line">            res = <span class="built_in">max</span>(res, M[a]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-04-02.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/01/LeetCode(363.%20Max%20Sum%20of%20Rectangle%20No%20Larger%20Than%20K)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/01/LeetCode(363.%20Max%20Sum%20of%20Rectangle%20No%20Larger%20Than%20K)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(363. Max Sum of Rectangle No Larger Than K)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-01 21:28:30 / 修改时间：21:28:34" itemprop="dateCreated datePublished" datetime="2020-04-01T21:28:30+08:00">2020-04-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-363-Max-Sum-of-Rectangle-No-Larger-Than-K-题解"><a href="#LeetCode-363-Max-Sum-of-Rectangle-No-Larger-Than-K-题解" class="headerlink" title="LeetCode(\363. Max Sum of Rectangle No Larger Than K)题解"></a>LeetCode(\363. Max Sum of Rectangle No Larger Than K)题解</h1><p>Given a non-empty 2D matrix <em>matrix</em> and an integer <em>k</em>, find the max sum of a rectangle in the <em>matrix</em> such that its sum is no larger than <em>k</em>.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: matrix &#x3D; [[1,0,1],[0,-2,3]], k &#x3D; 2</span><br><span class="line">Output: 2 </span><br><span class="line">Explanation: Because the sum of rectangle [[0, 1], [-2, 3]] is 2,</span><br><span class="line">             and 2 is the max number no larger than k (k &#x3D; 2).</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong></p>
<ol>
<li>The rectangle inside the matrix must have an area &gt; 0.</li>
<li>What if the number of rows is much larger than the number of columns?</li>
</ol>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>给出一个二维数组M和一个整数k，找出其中一个子矩阵，其内的元素和不能大于k，但是最接近k。</p>
<p>这个题可以使用暴力枚举，就算从(0,0)开始的子矩阵之和，然后遍历数组以(i,j)元素结尾的向上向左的最大不超过k的子矩阵和，如果数组为m行n列，时间复杂度则为$O((mn)^2)$。在使用时会TLE。</p>
<p>上述算法最耗时的就是寻找子矩阵，那么有没有优化的方法呢？这里思考以(i,j)结束的向上向右子矩阵时，我们完全可以记录之前的按行或者列来的子数组的累加和，然后利用lower_bound或者二分搜索找到第一个大于k，最接近当前累加和-k的累加和的累加和s，然后用当前累加和-s就可以得到了。</p>
<p>因为这里说行可能会很大，因此这里我们记录累加和按照行来。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，O(nmnlogm)，空间上，O(m)。</p>
<p><code>Runtime: 728 ms, faster than 33.23% of C++ online submissions for Max Sum of Rectangle No Larger Than K.</code></p>
<p><code>Memory Usage: 98.2 MB, less than 58.82% of C++ online submissions for Max Sum of Rectangle No Larger Than K.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxSumSubmatrix</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.<span class="built_in">size</span>(), col = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (row == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        col = matrix[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> res = INT_MIN;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;col; i++) &#123;</span><br><span class="line">            <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">sum</span><span class="params">(row, <span class="number">0</span>)</span></span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=i; j&gt;=<span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">int</span> curSum = <span class="number">0</span>;</span><br><span class="line">                <span class="function"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; <span class="title">mSum</span><span class="params">(&#123;<span class="number">0</span>&#125;)</span></span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> r=<span class="number">0</span>; r&lt;row; r++) &#123;</span><br><span class="line">                    sum[r] += matrix[r][j];</span><br><span class="line">                    curSum += sum[r];</span><br><span class="line">                    <span class="keyword">auto</span> iter = mSum.lower_bound(curSum - k);</span><br><span class="line">                    <span class="keyword">if</span> (iter != mSum.<span class="built_in">end</span>()) res = <span class="built_in">max</span>(res, curSum - *iter);</span><br><span class="line">                    mSum.insert(curSum);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-04-01</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/31/LeetCode(375.%20Guess%20Number%20Higher%20or%20Lower%20II)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/31/LeetCode(375.%20Guess%20Number%20Higher%20or%20Lower%20II)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(375. Guess Number Higher or Lower II)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-31 23:01:45" itemprop="dateCreated datePublished" datetime="2020-03-31T23:01:45+08:00">2020-03-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-04-04 00:15:20" itemprop="dateModified" datetime="2020-04-04T00:15:20+08:00">2020-04-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-375-Guess-Number-Higher-or-Lower-II-题解"><a href="#LeetCode-375-Guess-Number-Higher-or-Lower-II-题解" class="headerlink" title="LeetCode(\375. Guess Number Higher or Lower II)题解"></a>LeetCode(\375. Guess Number Higher or Lower II)题解</h1><p>We are playing the Guess Game. The game is as follows:</p>
<p>I pick a number from <strong>1</strong> to <strong>n</strong>. You have to guess which number I picked.</p>
<p>Every time you guess wrong, I’ll tell you whether the number I picked is higher or lower.</p>
<p>However, when you guess a particular number x, and you guess wrong, you pay <strong>$x</strong>. You win the game when you guess the number I picked.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">n &#x3D; 10, I pick 8.</span><br><span class="line"></span><br><span class="line">First round:  You guess 5, I tell you that it&#39;s higher. You pay $5.</span><br><span class="line">Second round: You guess 7, I tell you that it&#39;s higher. You pay $7.</span><br><span class="line">Third round:  You guess 9, I tell you that it&#39;s lower. You pay $9.</span><br><span class="line"></span><br><span class="line">Game over. 8 is the number I picked.</span><br><span class="line"></span><br><span class="line">You end up paying $5 + $7 + $9 &#x3D; $21.</span><br></pre></td></tr></table></figure>

<p>Given a particular <strong>n ≥ 1</strong>, find out how much money you need to have to guarantee a <strong>win</strong>.</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Medium</p>
<p>给出一个n表示1到n，我可能会随机给一个1到n之间的数，现在我你需要确定一个策略，每次给出一个数，我会告诉你这个数跟我给出的是大了还是小了还是相等，如果不相等你就需要收到你给定的值的惩罚，如果相等就结束游戏。请问你至少要惩罚多少才能保证一定可以找到对的数。比如n=10，你首先猜7，如果不对，小了的话就猜9，如果还小就肯定是10，大则是8，如果小于7，就猜4，然后再根据情况猜，那么最终你最多16个惩罚就可以找对值了。因此这个题并不是简单的二分。</p>
<p>我们可以使用DP来解决这个问题，设定f(i,j)表示i到j之间保证找到一个数最小的惩罚值。那么有如下转移方程：</p>
<p>$f(i,j) = min(max(f(i,x-1),f(x+1,j)) + x) x = i+1,…,j-1$</p>
<p>$f(i,j) = 0, i&gt;=j$</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，O(N3)，空间上，O(N2)。</p>
<p><code>Runtime: 44 ms, faster than 42.37% of C++ online submissions for Guess Number Higher or Lower II.</code></p>
<p><code>Memory Usage: 6.7 MB, less than 100.00% of C++ online submissions for Guess Number Higher or Lower II.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getMoneyAmount</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">dp</span><span class="params">(n+<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n+<span class="number">2</span>, <span class="number">0</span>))</span></span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">1</span>; v&lt;n; v++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> l=<span class="number">1</span>; l&lt;=n; l++) &#123;</span><br><span class="line">                <span class="keyword">int</span> r = l + v;</span><br><span class="line">                <span class="keyword">if</span> (r &gt; n) <span class="keyword">break</span>;</span><br><span class="line">                dp[l][r] = INT_MAX;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> x=l; x&lt;=r; x++) &#123;</span><br><span class="line">                    dp[l][r] = <span class="built_in">min</span>(dp[l][r], <span class="built_in">max</span>(dp[l][x<span class="number">-1</span>], dp[x+<span class="number">1</span>][r]) + x);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">1</span>][n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-03-31.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/30/LeetCode(368.%20Largest%20Divisible%20Subset)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/30/LeetCode(368.%20Largest%20Divisible%20Subset)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(368. Largest Divisible Subset)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-30 18:13:28 / 修改时间：18:13:33" itemprop="dateCreated datePublished" datetime="2020-03-30T18:13:28+08:00">2020-03-30</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-368-Largest-Divisible-Subset-题解"><a href="#LeetCode-368-Largest-Divisible-Subset-题解" class="headerlink" title="LeetCode(\368. Largest Divisible Subset)题解"></a>LeetCode(\368. Largest Divisible Subset)题解</h1><p>Given a set of <strong>distinct</strong> positive integers, find the largest subset such that every pair (Si, Sj) of elements in this subset satisfies:</p>
<p>Si % Sj = 0 or Sj % Si = 0.</p>
<p>If there are multiple solutions, return any subset is fine.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,3]</span><br><span class="line">Output: [1,2] (of course, [1,3] will also be ok)</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,4,8]</span><br><span class="line">Output: [1,2,4,8]</span><br></pre></td></tr></table></figure>

<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Medium</p>
<p>从一个整数数组总选出一个最多元素的子集，子集内的任意两个元素之间一个可以被另一个整除。</p>
<p>这个题虽然Medium，但是我觉得想不到的话还是挺难的。首先我们可以将数组降序或者升序排序，然后从前到后判断，对于走到的每个元素，我们记录到当前这个元素为止，包括当前元素在内的最长子集，如何填充这个子集呢？走到当前元素X，就往前查看，如果遇到可以用当前元素整除或者被整除的元素，那就将该元素的对应子集放入当前元素，最后保存一个最长的即可。因为是递减或者递增，只要满足最近的元素整除，那么前边的也一定满足。</p>
<p>为了节省内存，我们可以在在每个元素index对应两个值，一个记录除了index值之外的子集长度，一个记录对应子集中左边离自己最近的那个元素，就是这个元素推导出了当前index的，最后不断回溯就可以还原整个子集。</p>
<p>最后查看所有index的子集长度，选择最长的那个回溯即可。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，$O(nlogn)$，空间上，$O(n)$。</p>
<p><code>Runtime: 68 ms, faster than 10.45% of C++ online submissions for Largest Divisible Subset.</code></p>
<p><code>Memory Usage: 7.8 MB, less than 100.00% of C++ online submissions for Largest Divisible Subset.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">largestDivisibleSubset</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>) <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="keyword">int</span>, pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; M; <span class="comment">// index-&gt;(index, n);</span></span><br><span class="line">        </span><br><span class="line">        sort(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=len<span class="number">-1</span>; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">int</span> index = <span class="number">-1</span>, n = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;len; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[j] % nums[i] != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span> (M[j].second + <span class="number">1</span> &gt; n) &#123;</span><br><span class="line">                    index = j;</span><br><span class="line">                    n = M[j].second + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            M[i] = make_pair(index, n);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (M[i].second &gt; M[index].second) index = i;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">while</span> (index != <span class="number">-1</span>) &#123;</span><br><span class="line">            res.push_back(nums[index]);</span><br><span class="line">            index = M[index].first;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-03-30</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/28/LeetCode(354.%20Russian%20Doll%20Envelopes)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/28/LeetCode(354.%20Russian%20Doll%20Envelopes)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(354. Russian Doll Envelopes)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-28 18:43:01 / 修改时间：18:43:16" itemprop="dateCreated datePublished" datetime="2020-03-28T18:43:01+08:00">2020-03-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-354-Russian-Doll-Envelopes-题解"><a href="#LeetCode-354-Russian-Doll-Envelopes-题解" class="headerlink" title="LeetCode(\354. Russian Doll Envelopes)题解"></a>LeetCode(\354. Russian Doll Envelopes)题解</h1><p>You have a number of envelopes with widths and heights given as a pair of integers <code>(w, h)</code>. One envelope can fit into another if and only if both the width and height of one envelope is greater than the width and height of the other envelope.</p>
<p>What is the maximum number of envelopes can you Russian doll? (put one inside other)</p>
<p><strong>Note:</strong><br>Rotation is not allowed.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [[5,4],[6,4],[6,7],[2,3]]</span><br><span class="line">Output: 3 </span><br><span class="line">Explanation: The maximum number of envelopes you can Russian doll is 3 ([2,3] &#x3D;&gt; [5,4] &#x3D;&gt; [6,7]).</span><br></pre></td></tr></table></figure>

<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>给出一堆信封，每个信封有长宽两种大小，一个信封A可以包裹另一个信封B的条件是A的长宽都严格大于B对应的长和宽。请问这堆信封里一次性最长可以包裹几个信封。</p>
<p>这个题分析可以发现就是在信封中选择最长的递增子序列，因为有长宽两个因素在，很难直接选取最长递增子序列。我们可以首先将信封选择一个维度比如长度进行排序。然后再对另一个维度的数进行递增子序列选取即可。</p>
<p>这里我的方式是：对所有信封按照长度升序排序，对于相同长度的信封，宽度大的在前面。这是为了减少比较，后面因为相同长或宽的信封是不能包裹的。那么后续在判断两个信封时，如果前后两个信封的宽度前小后大可推断长度一定是不相同的，因为按照上述的排序方式，只有宽度前大后小的两个信封长度才可能相等。</p>
<p>可以使用DP解决，构造一个dp数组，dp[i]表示前i个信封中以i为最外层包裹的话有多少包裹层数，只需要遍历前面的i-1个即可。</p>
<p>如何证明这种算法是正确的呢？加入这种算法不是最优的，那么说明我们最终构造的序列漏掉了某个可以满足包裹的信封，但是算法中如果存在这样的，最终一定会计入。</p>
<h2 id="DP时空复杂度"><a href="#DP时空复杂度" class="headerlink" title="DP时空复杂度"></a>DP时空复杂度</h2><p>代码如下，时间上O(N2)，空间上O(N)。</p>
<p><code>Runtime: 1156 ms</code></p>
<p><code>Memory Usage: 46.1 MB</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a[<span class="number">0</span>] &lt; b[<span class="number">0</span>] <span class="keyword">or</span> (a[<span class="number">0</span>] == b[<span class="number">0</span>] <span class="keyword">and</span> a[<span class="number">1</span>] &gt; b[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxEnvelopes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; envelopes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = envelopes.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">dp</span><span class="params">(len, <span class="number">1</span>)</span></span>;</span><br><span class="line">        </span><br><span class="line">        sort(envelopes.<span class="built_in">begin</span>(), envelopes.<span class="built_in">end</span>(), cmp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=i<span class="number">-1</span>; j&gt;=<span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">if</span> (envelopes[j][<span class="number">1</span>] &lt; envelopes[i][<span class="number">1</span>]) &#123;</span><br><span class="line">                    dp[i] = <span class="built_in">max</span>(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//int res = 1;</span></span><br><span class="line">        <span class="comment">//for (int d : dp) res = max(res, d);</span></span><br><span class="line">        <span class="comment">//return res;</span></span><br><span class="line">        <span class="keyword">return</span> *max_element(dp.<span class="built_in">begin</span>(), dp.<span class="built_in">end</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>还有一种不使用DP，还是将信封按照上述一样的方式排序，然后从前到后开始选择信封，每次遍历到一个信封，查看信封的宽度在已经选择的信封中的位置，如果是最大的，直接放入，如果不是，就查看第一个大于等于这个信封的信封宽度，如果等于不用管，如果大于，就将其替换为当前信封。这是为了后续选择时候，在保证相同信封包裹数的情况下，最外围的信封宽度尽可能小，因为长度肯定都是小于。这样最后返回选择的信封的数目即可。</p>
<h2 id="二分时空复杂度"><a href="#二分时空复杂度" class="headerlink" title="二分时空复杂度"></a>二分时空复杂度</h2><p>代码如下，时间上O(NlogN)，空间上O(N).</p>
<p><code>Runtime: 308 ms, faster than 57.33% of C++ online submissions for Russian Doll Envelopes.</code></p>
<p><code>Memory Usage: 47.3 MB, less than 16.67% of C++ online submissions for Russian Doll Envelopes.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a[<span class="number">0</span>] &lt; b[<span class="number">0</span>] <span class="keyword">or</span> (a[<span class="number">0</span>] == b[<span class="number">0</span>] <span class="keyword">and</span> a[<span class="number">1</span>] &gt; b[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxEnvelopes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; envelopes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = envelopes.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp;</span><br><span class="line">        </span><br><span class="line">        sort(envelopes.<span class="built_in">begin</span>(), envelopes.<span class="built_in">end</span>(), cmp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; e : envelopes) &#123;</span><br><span class="line">            <span class="comment">// vector&lt;int&gt;::iterator </span></span><br><span class="line">            <span class="comment">// 二分搜索递增序列，返回序列中大于等于输入数的第一个数</span></span><br><span class="line">            <span class="keyword">auto</span> iter = lower_bound(dp.<span class="built_in">begin</span>(), dp.<span class="built_in">end</span>(), e[<span class="number">1</span>]); </span><br><span class="line">            <span class="keyword">if</span> (iter == dp.<span class="built_in">end</span>()) dp.push_back(e[<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (e[<span class="number">1</span>] &lt; *iter) *iter = e[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2020-03-28.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/28/Leet(174.%20Dungeon%20Game)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/28/Leet(174.%20Dungeon%20Game)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">Leet(174. Dungeon Game)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-28 13:32:39 / 修改时间：13:32:59" itemprop="dateCreated datePublished" datetime="2020-03-28T13:32:39+08:00">2020-03-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Leet-174-Dungeon-Game-题解"><a href="#Leet-174-Dungeon-Game-题解" class="headerlink" title="Leet(\174. Dungeon Game)题解"></a>Leet(\174. Dungeon Game)题解</h1><p>The demons had captured the princess (<strong>P</strong>) and imprisoned her in the bottom-right corner of a dungeon. The dungeon consists of M x N rooms laid out in a 2D grid. Our valiant knight (<strong>K</strong>) was initially positioned in the top-left room and must fight his way through the dungeon to rescue the princess.</p>
<p>The knight has an initial health point represented by a positive integer. If at any point his health point drops to 0 or below, he dies immediately.</p>
<p>Some of the rooms are guarded by demons, so the knight loses health (<em>negative</em> integers) upon entering these rooms; other rooms are either empty (<em>0’s</em>) or contain magic orbs that increase the knight’s health (<em>positive</em> integers).</p>
<p>In order to reach the princess as quickly as possible, the knight decides to move only rightward or downward in each step.</p>
<p><strong>Write a function to determine the knight’s minimum initial health so that he is able to rescue the princess.</strong></p>
<p>For example, given the dungeon below, the initial health of the knight must be at least <strong>7</strong> if he follows the optimal path <code>RIGHT-&gt; RIGHT -&gt; DOWN -&gt; DOWN</code>.</p>
<table>
<thead>
<tr>
<th>-2 (K)</th>
<th>-3</th>
<th>3</th>
</tr>
</thead>
<tbody><tr>
<td>-5</td>
<td>-10</td>
<td>1</td>
</tr>
<tr>
<td>10</td>
<td>30</td>
<td>-5 (P)</td>
</tr>
</tbody></table>
<p><strong>Note:</strong></p>
<ul>
<li>The knight’s health has no upper bound.</li>
<li>Any room can contain threats or power-ups, even the first room the knight enters and the bottom-right room where the princess is imprisoned.</li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>这个题分析下来就是：给定一个M*N的二维数组dungeon，每个位置上都有一个整数，要求从左上到右下找一条路径，每次进入一个节点要求初始值必须大于0，求最开始进入路径的最小值。</p>
<p>这个题乍一看就是使用DP，从上到下即可。但是[[1,-3,3],[0,-2,0],[-3,-3,-3]]这个案例表明，从左上走是行不通的。</p>
<p>这个题其实还是使用DP解决，但是聪明的地方在于，我们不从左上到右下寻找，而是从终点回溯。f(i,j)表示的是以ij为起点，到达右下角的最小初始值。这样就可以唯一确定最优值，这也是为什么他是Hard的原因。</p>
<p>很多时候，dp如果顺着不行，不妨逆着来试试。</p>
<p>状态转移方程如下：</p>
<p>$f(i,j) = max(min(f(i+1,j),f(i,j+1)-dungeon[i][j], 1)$ </p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，O(N2)，空间上，O(N2)。</p>
<p><code>Runtime: 8 ms, faster than 67.05% of C++ online submissions for Dungeon Game.</code></p>
<p><code>Memory Usage: 7.7 MB, less than 100.00% of C++ online submissions for Dungeon Game.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">calculateMinimumHP</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; dungeon)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = dungeon.<span class="built_in">size</span>(), col = dungeon[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">dp</span><span class="params">(row+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(col+<span class="number">1</span>, INT_MAX))</span></span>;</span><br><span class="line">        </span><br><span class="line">        dp[row][col<span class="number">-1</span>] = <span class="number">1</span>;</span><br><span class="line">        dp[row<span class="number">-1</span>][col] = <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=row<span class="number">-1</span>; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=col<span class="number">-1</span>; j&gt;=<span class="number">0</span>; j--) &#123;</span><br><span class="line">                dp[i][j] = <span class="built_in">max</span>(<span class="number">1</span>, <span class="built_in">min</span>(dp[i+<span class="number">1</span>][j],dp[i][j+<span class="number">1</span>]) - dungeon[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-03-28</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/28/%E4%B8%80%E5%A0%86%E7%8F%A0%E5%AD%90%EF%BC%8CA%E9%80%891%E4%B8%AAB%E9%80%891%E4%B8%AA%E4%B8%A2%E4%B8%80%E4%B8%AA%E4%B8%ADA%E8%83%9C%E6%A6%82%E7%8E%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/28/%E4%B8%80%E5%A0%86%E7%8F%A0%E5%AD%90%EF%BC%8CA%E9%80%891%E4%B8%AAB%E9%80%891%E4%B8%AA%E4%B8%A2%E4%B8%80%E4%B8%AA%E4%B8%ADA%E8%83%9C%E6%A6%82%E7%8E%87/" class="post-title-link" itemprop="url">一堆珠子，A选1个B选1个丢一个中A胜概率</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-28 10:37:54 / 修改时间：11:46:12" itemprop="dateCreated datePublished" datetime="2020-03-28T10:37:54+08:00">2020-03-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一堆珠子，A选1个B选1个丢一个中A胜概率"><a href="#一堆珠子，A选1个B选1个丢一个中A胜概率" class="headerlink" title="一堆珠子，A选1个B选1个丢一个中A胜概率"></a>一堆珠子，A选1个B选1个丢一个中A胜概率</h1><p>有一个盒子，里面分别有n颗黑色珠子和m颗白色珠子。</p>
<p>AB两个人轮流中盒子中选珠子，A先选。</p>
<p>A每次选一颗，如果是黑色珠子就结束算法，A胜利。</p>
<p>B每次选一颗，如果是黑色珠子就结束算法，B胜利，如果不是B会再选一颗丢掉，这个丢掉的珠子不管是什么颜色都不影响胜负。</p>
<p>最后如果没有谁选到黑色珠子，平局的话，算B胜利。</p>
<p>请问A胜利的概率，保留4位小数。</p>
<p><strong>Example 1</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2 3</span><br><span class="line">output: 0.6000</span><br></pre></td></tr></table></figure>

<p><strong>Example 1</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 3</span><br><span class="line">output: 0.5000</span><br></pre></td></tr></table></figure>

<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>这个题明显可以使用递归来做。</p>
<p>我们首先假设一般的情况。设f(n, m)函数返回A先抽胜利的概率。那么A先抽，有如下情况：</p>
<ul>
<li>A抽到黑色珠子，游戏结束。此时A胜利的概率为 $\frac{n}{n+m}$。</li>
<li>A抽到白色珠子，概率为 $\frac{m}{n+m}$。然后轮到B抽，此时如果需要A胜利，那么B只能抽到黑色珠子，概率为 $\frac{m-1}{n+m-1}$，然后B开始抽一个珠子扔掉，此时又存在两种情况：(1) B抽到要扔的为黑色珠子，概率为 $\frac{n}{n+m-2}$，然后乘上函数f(n-1, m-2)；(2) B抽到要扔的为白色珠子，概率为 $\frac{m-2}{n+m-2}$，然后乘上函数f(n, m-3)。</li>
</ul>
<p>综上：A胜利的概率为f(n,m).</p>
<p>$f(n,m) = \frac{n}{n+m} + \frac{m}{n+m} \times \frac{m-1}{n+m-1} \times (\frac{n}{n+m-2}f(n-1,m-2)+\frac{m-2}{n+m-2}f(n,m-3))$</p>
<p>最后考虑边缘状态：</p>
<p>输入一个f(n,m)，如果n&lt;=0，表示不存在黑色珠子，A肯定失败，那就直接返回0。如果m&lt;=0，说明不存在白色珠子，A直接胜利，直接返回1。注意这里有可能n和m都小于等于0，因此我们先判断n的状态，然后再判断m的值。这里因为表达式中有n+m-2，为了避免除0的情况存在，如果都等于1的时候，直接返回0.5即可。</p>
<p>注意这里，我们可以使用Map记录n和m的状态，避免重复计算。</p>
<p>转化为为代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="built_in">map</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;, <span class="keyword">float</span>&gt; Map;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">Pro</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Map.<span class="built_in">find</span>(make_pair(n, m)) != Map.<span class="built_in">end</span>()) <span class="keyword">return</span> Map[make_pair(n,m)];</span><br><span class="line">    pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; p = make_pair(n, m);</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        Map[p] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> Map[p];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (m &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        Map[p] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> Map[p];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (m == <span class="number">1</span> &amp;&amp; n == <span class="number">1</span>) &#123;</span><br><span class="line">        Map[p] = <span class="number">0.5</span>;</span><br><span class="line">        <span class="keyword">return</span> Map[p];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">float</span> res = n*<span class="number">1.0</span>/(m+n) +</span><br><span class="line">                m*<span class="number">1.0</span>/(m+n)*(m<span class="number">-1</span>)*<span class="number">1.0</span>/(m+n<span class="number">-1</span>) * (Pro(n<span class="number">-1</span>,m<span class="number">-2</span>) * n*<span class="number">1.0</span>/(m+n<span class="number">-2</span>) + Pro(n, m<span class="number">-3</span>) * (m<span class="number">-2</span>)*<span class="number">1.0</span>/(m+n<span class="number">-2</span>));</span><br><span class="line">    Map[p] = res;</span><br><span class="line">    <span class="keyword">return</span> Map[p];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;N&gt;&gt;M;</span><br><span class="line">    <span class="keyword">float</span> res = Pro(N, M);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;fixed &lt;&lt;setprecision(<span class="number">4</span>) &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-03-28</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/27/%E6%9C%80%E5%B0%91%E8%8A%B1%E8%B4%B9%E6%9C%A8%E6%A3%8D%E9%80%89%E6%8B%A9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/27/%E6%9C%80%E5%B0%91%E8%8A%B1%E8%B4%B9%E6%9C%A8%E6%A3%8D%E9%80%89%E6%8B%A9/" class="post-title-link" itemprop="url">最少花费木棍选择</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-27 22:09:08 / 修改时间：23:05:07" itemprop="dateCreated datePublished" datetime="2020-03-27T22:09:08+08:00">2020-03-27</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="最少花费木棍选择"><a href="#最少花费木棍选择" class="headerlink" title="最少花费木棍选择"></a>最少花费木棍选择</h1><p>有N个木棍，每个木棍有一个重量和长度，现在按一定顺序选择木棍，第一个木棍花费1，后面的选择的木棍如果重量和长度都不低于前一个木棍，则不产生花费，否则花费1.请确定一个选择顺序，使得花费最少。返回最少的花费。输入数组clubs，club[i][0]和club[i][1]分别表示第i根木棍的重量和长度。</p>
<p>这个题分析一下可以使用Greedy的办法解决。</p>
<p>分析题目，我们需要将这N个按一定顺序排列，组成数个长度和重量递增子序列，总的子序列的个数尽可能少就可以了，子序列的个数就是花费。</p>
<p>怎么来选呢？我们可以首先对长度或者重量排序，比如我们对重量排序，当然在重量相等的情况下，更短的木棒排前面。然后从第一个木棍开始，从前往后选择更长的木棒来组成递增子序列。然后在剩下的木棒中，从前往后选择第二个子序列，···直到所有的木棒都被选择完毕。</p>
<p>如何证明这个算法是正确的呢？假设按照上述选择的木棒递增子序列，不是最优的。那就说明，存在一个甚至多个递增子序列是可以拆分开来，放到别的序列里面去。那么就假设这个序列为a1,a2,···,ak，这个序列的木棒可以拆开放入别的序列中。有如下几种情况：</p>
<p>对于ai，如果能放入算法运行前期选择的序列中，那么在算法前期运行的时候就会把这个木棒选择，因此如果真能拆分，ai一定是放入后期选择的序列中的。那么a1，a2，···，ak都拆分放在后面的序列中。</p>
<p>但是能出现A系列出现即后面还有其它序列的原因是第一个a1开始，比如到了ai，后面如果有元素未被选择，一定是这个木棒的比ai更短。那么ai肯定不能放在这个序列中。</p>
<p>就单独只看a1，如果a1可以放入后面的某个序列，但是算法运行时并没有被分配到那个序列比如说B，那么就说明a1和b1之间一定有长度大于b1的木棒，这些木棒一定有存在于A中的，这些事不能放入别的B中的，也不能放入别的，因为如果可以放入而没有的话，那么说明运行算法的时候这些元素和可以放入的序列之间存在更大的值。因此A序列一定存在不能放入别的序列中的元素。</p>
<p>这样算法就证明完毕了。</p>
<p>代码如下，时间上$O(N^2)$，空间$O(N)$。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minClubsCost</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;clubs)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = club.<span class="built_in">size</span>(), res = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; <span class="title">visit</span><span class="params">(len, <span class="literal">false</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    sort(clubs.<span class="built_in">begin</span>(), clubs.<span class="built_in">end</span>(), cmp); <span class="comment">// 将木棍按照重量升序排序</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>; <span class="comment">// 记录下已经选择木棒的数目</span></span><br><span class="line">    <span class="keyword">int</span> p = <span class="number">0</span>; <span class="comment">// 选择一个木棍开始递增子序列选择，子序列尽可能长</span></span><br><span class="line">    <span class="keyword">while</span> (count &lt; len) &#123;</span><br><span class="line">        <span class="keyword">while</span> (visit[p+<span class="number">1</span>] == <span class="literal">true</span>) p++; <span class="comment">// 选择一个还未选择的最短木棒</span></span><br><span class="line">        res++;</span><br><span class="line">        count++;</span><br><span class="line">        visit[p] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=p+<span class="number">1</span>; i&lt;len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visit[i] == <span class="literal">true</span>) <span class="keyword">continue</span>;</span><br><span class="line">            count++;</span><br><span class="line">            visit[i] = <span class="literal">true</span>;</span><br><span class="line">            p = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-03-27</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/27/LeetCode(765.%20Couples%20Holding%20Hands)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/27/LeetCode(765.%20Couples%20Holding%20Hands)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(765. Couples Holding Hands)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-27 11:03:46 / 修改时间：11:04:01" itemprop="dateCreated datePublished" datetime="2020-03-27T11:03:46+08:00">2020-03-27</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-765-Couples-Holding-Hands-题解"><a href="#LeetCode-765-Couples-Holding-Hands-题解" class="headerlink" title="LeetCode(\765. Couples Holding Hands)题解"></a>LeetCode(\765. Couples Holding Hands)题解</h1><p>N couples sit in 2N seats arranged in a row and want to hold hands. We want to know the minimum number of swaps so that every couple is sitting side by side. A <em>swap</em> consists of choosing <strong>any</strong> two people, then they stand up and switch seats.</p>
<p>The people and seats are represented by an integer from <code>0</code> to <code>2N-1</code>, the couples are numbered in order, the first couple being <code>(0, 1)</code>, the second couple being <code>(2, 3)</code>, and so on with the last couple being <code>(2N-2, 2N-1)</code>.</p>
<p>The couples’ initial seating is given by <code>row[i]</code> being the value of the person who is initially sitting in the i-th seat.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: row &#x3D; [0, 2, 1, 3]</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: We only need to swap the second (row[1]) and third (row[2]) person.</span><br></pre></td></tr></table></figure>



<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: row &#x3D; [3, 2, 0, 1]</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: All couples are already seated side by side.</span><br></pre></td></tr></table></figure>



<p><strong>Note:</strong></p>
<ol>
<li><code>len(row)</code> is even and in the range of <code>[4, 60]</code>.</li>
<li><code>row</code> is guaranteed to be a permutation of <code>0...len(row)-1</code>.</li>
</ol>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>有N对人，编号0，1，2，···，2N-1。他们两两一对，0和1一对，2和3一对，···，2N-2和2N-1一对。现在数组中这些数是打乱的，每次可以交换两个人的位置，使用最少的交换次数使得这个数组内，每一对都是挨着的。返回交换的最小次数。</p>
<p>这个题使用Greedy。使用Map记录下每个数原本在的位置。然后从左到右每两个元素遍历。如果这两个元素是一对，那就不必交换了，直接跳过，如果不是一对，那么其中肯定有一个需要与另一个的另一半交换。直接交换即可，然后更新Map。然后继续向下走，因为从左到右逐渐配对，所以未配对的和缺少的都肯定在右边。</p>
<p>我在算法中每次遇到不成对的元素，都选择将右边的与左边的另一半交换，这样好写代码一点。</p>
<p>如何证明这是最优的呢？如果这样的交换方式不是最优的，那就是说在某一步，遇到一个不成对的元素对之后，如果按照上述的方式交换，会导致多出来比较次数。那什么会导致多出来比较次数呢。有以下原因：</p>
<ol>
<li>我们这次交换导致了原本成对的元素拆开了</li>
<li>这次交换没有使得元素成对，是无意义的交换</li>
<li>这次交换成了一对，而如果按最优方案来说是成2对</li>
</ol>
<p>逐步分析上述原因，1，我们是遇到不匹配的元素才交换，而当前这一对不匹配，可知这一对中的各自另一半在其他位置肯定也不匹配，因为每个元素的另一半只有1个。2，我们每次交换是成了至少1对的，所以2也不成立。3，最优方案如果是成2对，说明我们当前元素的另一半各自挨着，那么我们交换的时候同样也会成2对，因此3不成立。</p>
<p>注意，最优方案不止一种，最少交换次数则是固定的。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，O(N)，空间上，O(N)。</p>
<p><code>Runtime: 4 ms, faster than 39.96% of C++ online submissions for Couples Holding Hands.</code></p>
<p><code>Memory Usage: 6.4 MB, less than 100.00% of C++ online submissions for Couples Holding Hands.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minSwapsCouples</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; row)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = row.<span class="built_in">size</span>(), res = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; M;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) &#123;</span><br><span class="line">            M[row[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i+=<span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">abs</span>(row[i]-row[i+<span class="number">1</span>]) == <span class="number">1</span> <span class="keyword">and</span> (<span class="built_in">min</span>(row[i],row[i+<span class="number">1</span>]) &amp; <span class="number">1</span>) == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            res++;</span><br><span class="line">            <span class="keyword">if</span> ((row[i]&amp;<span class="number">1</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> tmp = row[i+<span class="number">1</span>];</span><br><span class="line">                row[i+<span class="number">1</span>] = row[i] + <span class="number">1</span>;</span><br><span class="line">                row[M[row[i]+<span class="number">1</span>]] = tmp;</span><br><span class="line">                M[tmp] = M[row[i]+<span class="number">1</span>];</span><br><span class="line">                M[row[i]+<span class="number">1</span>] = i + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> tmp = row[i+<span class="number">1</span>];</span><br><span class="line">                row[i+<span class="number">1</span>] = row[i] - <span class="number">1</span>;</span><br><span class="line">                row[M[row[i]<span class="number">-1</span>]] = tmp;</span><br><span class="line">                M[tmp] = M[row[i]<span class="number">-1</span>];</span><br><span class="line">                M[row[i]<span class="number">-1</span>] = i + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-03-27</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/26/LeetCode(936.%20Stamping%20The%20Sequence)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/26/LeetCode(936.%20Stamping%20The%20Sequence)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(936. Stamping The Sequence)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-26 23:21:40" itemprop="dateCreated datePublished" datetime="2020-03-26T23:21:40+08:00">2020-03-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-27 11:09:03" itemprop="dateModified" datetime="2020-03-27T11:09:03+08:00">2020-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-936-Stamping-The-Sequence-题解"><a href="#LeetCode-936-Stamping-The-Sequence-题解" class="headerlink" title="LeetCode(\936. Stamping The Sequence)题解"></a>LeetCode(\936. Stamping The Sequence)题解</h1><p>You want to form a <code>target</code> string of <strong>lowercase letters</strong>.</p>
<p>At the beginning, your sequence is <code>target.length</code> <code>&#39;?&#39;</code> marks. You also have a <code>stamp</code> of lowercase letters.</p>
<p>On each turn, you may place the stamp over the sequence, and replace every letter in the sequence with the corresponding letter from the stamp. You can make up to <code>10 * target.length</code> turns.</p>
<p>For example, if the initial sequence is “?????”, and your stamp is <code>&quot;abc&quot;</code>, then you may make “abc??”, “?abc?”, “??abc” in the first turn. (Note that the stamp must be fully contained in the boundaries of the sequence in order to stamp.)</p>
<p>If the sequence is possible to stamp, then return an array of the index of the left-most letter being stamped at each turn. If the sequence is not possible to stamp, return an empty array.</p>
<p>For example, if the sequence is “ababc”, and the stamp is <code>&quot;abc&quot;</code>, then we could return the answer <code>[0, 2]</code>, corresponding to the moves “?????” -&gt; “abc??” -&gt; “ababc”.</p>
<p>Also, if the sequence is possible to stamp, it is guaranteed it is possible to stamp within <code>10 * target.length</code> moves. Any answers specifying more than this number of moves will not be accepted.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: stamp &#x3D; &quot;abc&quot;, target &#x3D; &quot;ababc&quot;</span><br><span class="line">Output: [0,2]</span><br><span class="line">([1,0,2] would also be accepted as an answer, as well as some other answers.)</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: stamp &#x3D; &quot;abca&quot;, target &#x3D; &quot;aabcaca&quot;</span><br><span class="line">Output: [3,0,1]</span><br></pre></td></tr></table></figure>



<p><strong>Note:</strong></p>
<ol>
<li><code>1 &lt;= stamp.length &lt;= target.length &lt;= 1000</code></li>
<li><code>stamp</code> and <code>target</code> only contain lowercase letters.</li>
</ol>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>一个目标字符串，使用另一个字符串通过左右移动去拼凑，移动后的字符如果和之间的有重叠，则覆盖掉之前的，比如abc，左移1位组成abcbc，掩盖了之前的a，在目标字符串内，按顺序写出每一次移动后停留的位置最终在目标字符串中的位置。如果不存在就返回[]。限制移动次数为10*目标字符串长度。</p>
<p>本题可以使用贪心，也可以说是暴力了。其实每个目标字符中，每个字符最多有一个移动的对应，因为如果多个的话，最后移动的会覆盖掉前面的，所以10倍是绰绰有余的。</p>
<p>使用count记录目标字符串中已经匹配的字符数，如果已经达到目标字符串就结束，没有就从左到右寻找一个符合另一个字符串的匹配字符串，从i=0到目标字符串长度-匹配字符串长度之间遍历。如果没找到，说明无解。如果找到了，找出其中不是”?”的字符即还未被匹配的字符，将其全部设为”?”。最后将这个i设为True，即已经移动到了。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，目标字符串长度N，匹配字符串长度K，那么每次最少匹配一个，最多有N轮，每一轮需要将目标字符串全部遍历(N-K)次，一次花费K次比较，K小于等于N。因此最终的时间复杂度$O(N^3)$，空间复杂度$O(N)$。</p>
<p><code>Runtime: 84 ms, faster than 24.69% of C++ online submissions for Stamping The Sequence.</code></p>
<p><code>Memory Usage: 110.5 MB, less than 7.69% of C++ online submissions for Stamping The Sequence.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">isStamp</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> K, <span class="built_in">string</span> sta, <span class="built_in">string</span> tar)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;K; k++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (sta[k] != tar[i+k] <span class="keyword">and</span> tar[i+k] != <span class="string">'?'</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (tar[i+k] != <span class="string">'?'</span>) count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">movesToStamp</span><span class="params">(<span class="built_in">string</span> stamp, <span class="built_in">string</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = target.<span class="built_in">size</span>(), K = stamp.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; <span class="title">visit</span><span class="params">(len, <span class="literal">false</span>)</span></span>;</span><br><span class="line">        <span class="keyword">bool</span> change = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (count &lt; len) &#123;</span><br><span class="line">            change = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=len-K; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (visit[i] == <span class="literal">true</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">int</span> tmp = isStamp(i, K, stamp, target);</span><br><span class="line">                <span class="keyword">if</span> (tmp &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">                    change = <span class="literal">true</span>;</span><br><span class="line">                    count += tmp;</span><br><span class="line">                    visit[i] = <span class="literal">true</span>;</span><br><span class="line">                    res.insert(res.<span class="built_in">begin</span>(), i);</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;K; k++) target[i+k] = <span class="string">'?'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (change == <span class="literal">false</span>) <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2020-03-27</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/">35</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">XJ</p>
  <div class="site-description" itemprop="description">幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">348</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">XJ</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
