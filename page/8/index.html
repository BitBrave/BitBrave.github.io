<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
<meta property="og:type" content="website">
<meta property="og:title" content="BitBrave">
<meta property="og:url" content="http://yoursite.com/page/8/index.html">
<meta property="og:site_name" content="BitBrave">
<meta property="og:description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="XJ">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>BitBrave</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BitBrave</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">IIE</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/12/LeetCode(1316.%20Distinct%20Echo%20Substrings)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/12/LeetCode(1316.%20Distinct%20Echo%20Substrings)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1316. Distinct Echo Substrings)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-12 18:32:01 / 修改时间：18:32:03" itemprop="dateCreated datePublished" datetime="2020-02-12T18:32:01+08:00">2020-02-12</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1316-Distinct-Echo-Substrings-题解"><a href="#LeetCode-1316-Distinct-Echo-Substrings-题解" class="headerlink" title="LeetCode(\1316. Distinct Echo Substrings)题解"></a>LeetCode(\1316. Distinct Echo Substrings)题解</h1><p>Return the number of <strong>distinct</strong> non-empty substrings of <code>text</code> that can be written as the concatenation of some string with itself (i.e. it can be written as <code>a + a</code> where <code>a</code> is some string).</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: text &#x3D; &quot;abcabcabc&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The 3 substrings are &quot;abcabc&quot;, &quot;bcabca&quot; and &quot;cabcab&quot;.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: text &#x3D; &quot;leetcodeleetcode&quot;</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: The 2 substrings are &quot;ee&quot; and &quot;leetcodeleetcode&quot;.</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= text.length &lt;= 2000</code></li>
<li><code>text</code> has only lowercase English letters.</li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>给出一个字符串S，从中寻找a+a模式的连续字符串的个数。</p>
<p>这个题使用R-K哈希做，RK哈希，Rabin_Karp 哈希，通过比较hash值是否相等来比较每个字符串是否相等。有概率出错。</p>
<p>将字符串看做一个 n 进制的数字，通过一个大质数（如 1000000007 ）取模，取得字符串的值。</p>
<p>这里使用无符号 64 位整数来存储哈希值，并通过 C++ 自然溢出的处理方式来取模。</p>
<p>因为有26个字母，选择27进制。注意一点是27进制，’a’不能被视为 0 否则 aa 和 a 就相同了。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>时间上，$O(n^2)$，如果直接比较的话，时间复杂度其实是$O(n^3)$。空间上，$O(n^2)$。</p>
<p><code>Runtime: 272 ms, faster than 68.21% of C++ online submissions for Distinct Echo Substrings.</code></p>
<p><code>Memory Usage: 196.3 MB, less than 100.00% of C++ online submissions for Distinct Echo Substrings.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">distinctEchoSubstrings</span><span class="params">(<span class="built_in">string</span> <span class="built_in">text</span>)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>, len = <span class="built_in">text</span>.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">set</span>&lt;<span class="keyword">unsigned</span> <span class="keyword">long</span> &gt; S;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">unsigned</span> <span class="keyword">long</span> &gt;&gt; <span class="title">V</span><span class="params">(len, <span class="built_in">vector</span>&lt;<span class="keyword">unsigned</span> <span class="keyword">long</span> &gt;(len, <span class="number">0</span>))</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) V[i][i] = <span class="built_in">text</span>[i] - <span class="string">'a'</span> + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">1</span>; v&lt;len; v++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> l=<span class="number">0</span>, r=l+v; r&lt;len; l++, r++) &#123;</span><br><span class="line">                V[l][r] = V[l][r<span class="number">-1</span>] * <span class="number">27</span> + <span class="built_in">text</span>[r] - <span class="string">'a'</span> + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; len; v++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> l = i + v + <span class="number">1</span>, r = l + v;</span><br><span class="line">                <span class="keyword">if</span> (r &gt;= len) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span> (V[i][i+v] == V[l][r] <span class="keyword">and</span> S.<span class="built_in">find</span>(V[l][r]) == S.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                    res++;</span><br><span class="line">                    S.insert(V[l][r]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2020-02-12</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/11/LeetCode(1312.%20Minimum%20Insertion%20Steps%20to%20Make%20a%20String%20Palindrome)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/11/LeetCode(1312.%20Minimum%20Insertion%20Steps%20to%20Make%20a%20String%20Palindrome)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1312. Minimum Insertion Steps to Make a String Palindrome)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-11 00:16:20 / 修改时间：00:16:23" itemprop="dateCreated datePublished" datetime="2020-02-11T00:16:20+08:00">2020-02-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1312-Minimum-Insertion-Steps-to-Make-a-String-Palindrome-题解"><a href="#LeetCode-1312-Minimum-Insertion-Steps-to-Make-a-String-Palindrome-题解" class="headerlink" title="LeetCode(\1312. Minimum Insertion Steps to Make a String Palindrome)题解"></a>LeetCode(\1312. Minimum Insertion Steps to Make a String Palindrome)题解</h1><p>Given a string <code>s</code>. In one step you can insert any character at any index of the string.</p>
<p>Return <em>the minimum number of steps</em> to make <code>s</code> palindrome.</p>
<p>A <strong>Palindrome String</strong> is one that reads the same backward as well as forward.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;zzazz&quot;</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: The string &quot;zzazz&quot; is already palindrome we don&#39;t need any insertions.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;mbadm&quot;</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: String can be &quot;mbdadbm&quot; or &quot;mdbabdm&quot;.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;leetcode&quot;</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: Inserting 5 characters the string becomes &quot;leetcodocteel&quot;.</span><br></pre></td></tr></table></figure>

<p><strong>Example 4:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;g&quot;</span><br><span class="line">Output: 0</span><br></pre></td></tr></table></figure>

<p><strong>Example 5:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;no&quot;</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 500</code></li>
<li>All characters of <code>s</code> are lower case English letters.</li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>给一个字符串s，插入最少的字符使得其变为回文串。</p>
<p>使用DP，状态转移方程如下：<br>$$<br>DP[i][j] = min(1 + DP[l+1][r], DP[l][r-1] + 1) (s[i]\neq s[j])\<br>DP[i][j] = DP[l+1][r-1]) (s[i]= s[j])<br>$$</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，$O(n^2)$，空间上，$O(n^2)$。</p>
<p><code>Runtime: 28 ms, faster than 81.56% of C++ online submissions for Minimum Insertion Steps to Make a String Palindrome.</code></p>
<p><code>Memory Usage: 29.4 MB, less than 100.00% of C++ online submissions for Minimum Insertion Steps to Make a String Palindrome.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minInsertions</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">DP</span><span class="params">(len, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(len, <span class="number">0</span>))</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">1</span>; v&lt;len; v++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> l=<span class="number">0</span>, r = l + v; l&lt;len <span class="keyword">and</span> r&lt;len; l++, r++) &#123;           </span><br><span class="line">                DP[l][r] = <span class="built_in">min</span>(<span class="number">1</span> + DP[l+<span class="number">1</span>][r], DP[l][r<span class="number">-1</span>] + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (s[l] == s[r]) DP[l][r] = <span class="built_in">min</span>(DP[l][r], DP[l+<span class="number">1</span>][r<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> DP[<span class="number">0</span>][len<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-02-10</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/10/LeetCode(1301.%20Number%20of%20Paths%20with%20Max%20Score)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/10/LeetCode(1301.%20Number%20of%20Paths%20with%20Max%20Score)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1301. Number of Paths with Max Score)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-10 17:56:48 / 修改时间：17:56:49" itemprop="dateCreated datePublished" datetime="2020-02-10T17:56:48+08:00">2020-02-10</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1301-Number-of-Paths-with-Max-Score-题解"><a href="#LeetCode-1301-Number-of-Paths-with-Max-Score-题解" class="headerlink" title="LeetCode(\1301. Number of Paths with Max Score)题解"></a>LeetCode(\1301. Number of Paths with Max Score)题解</h1><p>You are given a square <code>board</code> of characters. You can move on the board starting at the bottom right square marked with the character <code>&#39;S&#39;</code>.</p>
<p>You need to reach the top left square marked with the character <code>&#39;E&#39;</code>. The rest of the squares are labeled either with a numeric character <code>1, 2, ..., 9</code> or with an obstacle <code>&#39;X&#39;</code>. In one move you can go up, left or up-left (diagonally) only if there is no obstacle there.</p>
<p>Return a list of two integers: the first integer is the maximum sum of numeric characters you can collect, and the second is the number of such paths that you can take to get that maximum sum, <strong>taken modulo <code>10^9 + 7</code></strong>.</p>
<p>In case there is no path, return <code>[0, 0]</code>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: board &#x3D; [&quot;E23&quot;,&quot;2X2&quot;,&quot;12S&quot;]</span><br><span class="line">Output: [7,1]</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: board &#x3D; [&quot;E12&quot;,&quot;1X1&quot;,&quot;21S&quot;]</span><br><span class="line">Output: [4,2]</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: board &#x3D; [&quot;E11&quot;,&quot;XXX&quot;,&quot;11S&quot;]</span><br><span class="line">Output: [0,0]</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>2 &lt;= board.length == board[i].length &lt;= 100</code></li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>一个由数字字符和X组成的方阵A，从右下角走到左上角，可以向上，向左或者向对角方向只要即将到达或者当前位置不是’X’. 问路径的元素之和最大的是多少，这样的路径有多少条。（取 $10^9 + 7$ 的余数）。</p>
<p>题目使用DP。根据对称原理，右下角到左上角等同于左上角到右下角。设$DP[i][j]$存储两个值，表示矩阵A中 $(0,0)–(i-1, j-1)$的子矩阵中从(0, 0)到(i-1, j-1)的最大路径值和对应的条数。如果$A[i][j]==’X’$，那么$D[i][j]=0$。否则，状态转移方程就是。<br>$$<br>DP[i][j].val = int(A[i][j]) + max(DP[i-1][j-1], DP[i][j-1], DP[i-1][j])<br>$$<br>而对应最大值的条数$DP[i][j].nums$ 为对应左上三个值的条数的和，如果其最大值等于左上三个值中的话。</p>
<p>因此，状态转移方程可以使用一个与A同大的矩阵存储，同样，可以将其缩减为一个 $2\times n$ 的矩阵。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，只需要将A遍历一遍即可，为 $O(n^2)$，空间上，使用优化的存储方式，为 $O(n)$。</p>
<p><code>Runtime: 12 ms, faster than 84.97% of C++ online submissions for Number of Paths with Max Score.</code></p>
<p><code>Memory Usage: 9.6 MB, less than 100.00% of C++ online submissions for Number of Paths with Max Score.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">pathsWithMaxScore</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = board.<span class="built_in">size</span>(), m = <span class="built_in">pow</span>(<span class="number">10</span>, <span class="number">9</span>) + <span class="number">7</span>;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt;&gt; <span class="title">DP</span><span class="params">(<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt;(len, <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;(<span class="number">2</span>, <span class="number">-1</span>)))</span></span>;</span><br><span class="line">        DP[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = DP[<span class="number">1</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        DP[<span class="number">0</span>][<span class="number">0</span>][<span class="number">1</span>] = DP[<span class="number">1</span>][<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;len; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'X'</span>) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i&gt;<span class="number">0</span> <span class="keyword">and</span> j&gt;<span class="number">0</span> <span class="keyword">and</span> DP[<span class="number">0</span>][j<span class="number">-1</span>][<span class="number">0</span>] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    DP[<span class="number">1</span>][j][<span class="number">0</span>] = DP[<span class="number">0</span>][j<span class="number">-1</span>][<span class="number">0</span>];</span><br><span class="line">                    DP[<span class="number">1</span>][j][<span class="number">1</span>] = DP[<span class="number">0</span>][j<span class="number">-1</span>][<span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j&gt;<span class="number">0</span> <span class="keyword">and</span> DP[<span class="number">1</span>][j<span class="number">-1</span>][<span class="number">0</span>] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (DP[<span class="number">1</span>][j<span class="number">-1</span>][<span class="number">0</span>] &gt; DP[<span class="number">1</span>][j][<span class="number">0</span>]) &#123;</span><br><span class="line">                        DP[<span class="number">1</span>][j][<span class="number">0</span>] = DP[<span class="number">1</span>][j<span class="number">-1</span>][<span class="number">0</span>];</span><br><span class="line">                        DP[<span class="number">1</span>][j][<span class="number">1</span>] = DP[<span class="number">1</span>][j<span class="number">-1</span>][<span class="number">1</span>];</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (DP[<span class="number">1</span>][j<span class="number">-1</span>][<span class="number">0</span>] == DP[<span class="number">1</span>][j][<span class="number">0</span>]) DP[<span class="number">1</span>][j][<span class="number">1</span>] += DP[<span class="number">1</span>][j<span class="number">-1</span>][<span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i&gt;<span class="number">0</span> <span class="keyword">and</span> DP[<span class="number">0</span>][j][<span class="number">0</span>] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (DP[<span class="number">0</span>][j][<span class="number">0</span>] &gt; DP[<span class="number">1</span>][j][<span class="number">0</span>]) &#123;</span><br><span class="line">                        DP[<span class="number">1</span>][j][<span class="number">0</span>] = DP[<span class="number">0</span>][j][<span class="number">0</span>];</span><br><span class="line">                        DP[<span class="number">1</span>][j][<span class="number">1</span>] = DP[<span class="number">0</span>][j][<span class="number">1</span>];</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (DP[<span class="number">0</span>][j][<span class="number">0</span>] == DP[<span class="number">1</span>][j][<span class="number">0</span>]) DP[<span class="number">1</span>][j][<span class="number">1</span>] += DP[<span class="number">0</span>][j][<span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (DP[<span class="number">1</span>][j][<span class="number">0</span>] != <span class="number">-1</span> <span class="keyword">and</span> board[i][j] &lt;= <span class="string">'9'</span>) DP[<span class="number">1</span>][j][<span class="number">0</span>] += <span class="keyword">int</span>(board[i][j]) - <span class="number">48</span>;</span><br><span class="line">                DP[<span class="number">1</span>][j][<span class="number">1</span>] %= m;</span><br><span class="line">                <span class="comment">//cout&lt;&lt;"("&lt;&lt;i&lt;&lt;","&lt;&lt;j&lt;&lt;") "&lt;&lt;DP[1][j][0]&lt;&lt;" n: "&lt;&lt;DP[1][j][1]&lt;&lt;endl;</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;len; j++) &#123;</span><br><span class="line">                DP[<span class="number">0</span>][j][<span class="number">0</span>] = DP[<span class="number">1</span>][j][<span class="number">0</span>];</span><br><span class="line">                DP[<span class="number">0</span>][j][<span class="number">1</span>] = DP[<span class="number">1</span>][j][<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">                DP[<span class="number">1</span>][j][<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">                DP[<span class="number">1</span>][j][<span class="number">1</span>] = <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (DP[<span class="number">0</span>][len<span class="number">-1</span>][<span class="number">0</span>] == <span class="number">-1</span>) &#123;</span><br><span class="line">            DP[<span class="number">0</span>][len<span class="number">-1</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">            DP[<span class="number">0</span>][len<span class="number">-1</span>][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(&#123;DP[<span class="number">0</span>][len<span class="number">-1</span>][<span class="number">0</span>], DP[<span class="number">0</span>][len<span class="number">-1</span>][<span class="number">1</span>]&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-02-10</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/09/LeetCode(1335.%20Minimum%20Difficulty%20of%20a%20Job%20Schedule)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/09/LeetCode(1335.%20Minimum%20Difficulty%20of%20a%20Job%20Schedule)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1335. Minimum Difficulty of a Job Schedule)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-09 14:15:32 / 修改时间：14:15:34" itemprop="dateCreated datePublished" datetime="2020-02-09T14:15:32+08:00">2020-02-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1335-Minimum-Difficulty-of-a-Job-Schedule-题解"><a href="#LeetCode-1335-Minimum-Difficulty-of-a-Job-Schedule-题解" class="headerlink" title="LeetCode(\1335. Minimum Difficulty of a Job Schedule)题解"></a>LeetCode(\1335. Minimum Difficulty of a Job Schedule)题解</h1><p>You want to schedule a list of jobs in <code>d</code> days. Jobs are dependent (i.e To work on the <code>i-th</code> job, you have to finish all the jobs <code>j</code> where <code>0 &lt;= j &lt; i</code>).</p>
<p>You have to finish <strong>at least</strong> one task every day. The difficulty of a job schedule is the sum of difficulties of each day of the <code>d</code> days. The difficulty of a day is the maximum difficulty of a job done in that day.</p>
<p>Given an array of integers <code>jobDifficulty</code> and an integer <code>d</code>. The difficulty of the <code>i-th</code> job is <code>jobDifficulty[i]</code>.</p>
<p>Return <em>the minimum difficulty</em> of a job schedule. If you cannot find a schedule for the jobs return <strong>-1</strong>.</p>
<p><strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/01/16/untitled.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: jobDifficulty &#x3D; [6,5,4,3,2,1], d &#x3D; 2</span><br><span class="line">Output: 7</span><br><span class="line">Explanation: First day you can finish the first 5 jobs, total difficulty &#x3D; 6.</span><br><span class="line">Second day you can finish the last job, total difficulty &#x3D; 1.</span><br><span class="line">The difficulty of the schedule &#x3D; 6 + 1 &#x3D; 7</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: jobDifficulty &#x3D; [9,9,9], d &#x3D; 4</span><br><span class="line">Output: -1</span><br><span class="line">Explanation: If you finish a job per day you will still have a free day. you cannot find a schedule for the given jobs.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: jobDifficulty &#x3D; [1,1,1], d &#x3D; 3</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The schedule is one job per day. total difficulty will be 3.</span><br></pre></td></tr></table></figure>

<p><strong>Example 4:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: jobDifficulty &#x3D; [7,1,7,1,7,1], d &#x3D; 3</span><br><span class="line">Output: 15</span><br></pre></td></tr></table></figure>

<p><strong>Example 5:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: jobDifficulty &#x3D; [11,111,22,222,33,333,44,444], d &#x3D; 6</span><br><span class="line">Output: 843</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= jobDifficulty.length &lt;= 300</code></li>
<li><code>0 &lt;= jobDifficulty[i] &lt;= 1000</code></li>
<li><code>1 &lt;= d &lt;= 10</code></li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>工作调度。给出N个工作，每个工作有困难度，第i个工作的困难度为$A[i]$。但是完成第i个工作的话，0到i-1的工作也必须完成。每一天可以完成若干个工作，这一天的困难度就是所有工作中最大的那个困难度。给定d天，计算在d天内完成这些工作的困难度的和最小值。如果超过d天或者少于d天完成，都算没有完成，返回-1。</p>
<p>这题使用DP解法。</p>
<p>稍微分析一下，设定DP(i,j)表示0~i个工作内在j天内完成的最小困难度。那么最后的答案就是DP(len(A)-1, d)。</p>
<p>如何填充状态转移方程，我们考虑j天的上一天j-1天，通过遍历第j天的选择来确定状态。<br>$$<br>DP[i][j] = max(DP[i-k][j-1] + max(A[i], A[i-1], …, A[i-k+1]))<br>$$<br>观察上述转移方程式，每次更新只用到了上一列，因此可以将数组缩减为$N\times 2$的大小。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，每次更新需要花费$O(n)$，在d天n个工作上花费 $O(dn^2)$。空间上，原本花费$O(dn)$，缩减之后为 $O(2n)$。</p>
<p>PS: 一定要注意边界条件，非常重要。</p>
<p><code>Runtime: 24 ms, faster than 93.37% of C++ online submissions for Minimum Difficulty of a Job Schedule.</code></p>
<p><code>Memory Usage: 9.1 MB, less than 100.00% of C++ online submissions for Minimum Difficulty of a Job Schedule.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minDifficulty</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; jobDifficulty, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = jobDifficulty.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (len &lt; d) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">DP</span><span class="params">(len, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">2</span>, INT_MAX))</span></span>;</span><br><span class="line">        </span><br><span class="line">        DP[<span class="number">0</span>][<span class="number">0</span>] = jobDifficulty[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len; i++) &#123;</span><br><span class="line">            DP[i][<span class="number">0</span>] = <span class="built_in">max</span>(DP[i<span class="number">-1</span>][<span class="number">0</span>], jobDifficulty[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">2</span>; j&lt;=d; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> m = jobDifficulty[i];</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k=i<span class="number">-1</span>; k&gt;=<span class="number">0</span>; k--) &#123;</span><br><span class="line">                    m = <span class="built_in">max</span>(m, jobDifficulty[k+<span class="number">1</span>]);</span><br><span class="line">                    <span class="keyword">if</span> (DP[k][<span class="number">0</span>] == INT_MAX) <span class="keyword">break</span>;</span><br><span class="line">                    DP[i][<span class="number">1</span>] = <span class="built_in">min</span>(DP[i][<span class="number">1</span>], m + DP[k][<span class="number">0</span>]);</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) &#123;</span><br><span class="line">                DP[i][<span class="number">0</span>] = DP[i][<span class="number">1</span>];</span><br><span class="line">                DP[i][<span class="number">1</span>] = INT_MAX;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> DP[len<span class="number">-1</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-02-09.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/09/LeetCode(1284.%20Minimum%20Number%20of%20Flips%20to%20Convert%20Binary%20Matrix%20to%20Zero%20Matrix)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/09/LeetCode(1284.%20Minimum%20Number%20of%20Flips%20to%20Convert%20Binary%20Matrix%20to%20Zero%20Matrix)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1284. Minimum Number of Flips to Convert Binary Matrix to Zero Matrix)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-09 10:58:23" itemprop="dateCreated datePublished" datetime="2020-02-09T10:58:23+08:00">2020-02-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-10 00:43:04" itemprop="dateModified" datetime="2020-02-10T00:43:04+08:00">2020-02-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1284-Minimum-Number-of-Flips-to-Convert-Binary-Matrix-to-Zero-Matrix-题解"><a href="#LeetCode-1284-Minimum-Number-of-Flips-to-Convert-Binary-Matrix-to-Zero-Matrix-题解" class="headerlink" title="LeetCode(\1284. Minimum Number of Flips to Convert Binary Matrix to Zero Matrix)题解"></a>LeetCode(\1284. Minimum Number of Flips to Convert Binary Matrix to Zero Matrix)题解</h1><p>Given a <code>m x n</code> binary matrix <code>mat</code>. In one step, you can choose one cell and flip it and all the four neighbours of it if they exist (Flip is changing 1 to 0 and 0 to 1). A pair of cells are called neighboors if they share one edge.</p>
<p>Return the <em>minimum number of steps</em> required to convert <code>mat</code> to a zero matrix or <strong>-1</strong> if you cannot.</p>
<p>Binary matrix is a matrix with all cells equal to 0 or 1 only.</p>
<p>Zero matrix is a matrix with all cells equal to 0.</p>
<p><strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2019/11/28/matrix.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: mat &#x3D; [[0,0],[0,1]]</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: One possible solution is to flip (1, 0) then (0, 1) and finally (1, 1) as shown.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: mat &#x3D; [[0]]</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: Given matrix is a zero matrix. We don&#39;t need to change it.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: mat &#x3D; [[1,1,1],[1,0,1],[0,0,0]]</span><br><span class="line">Output: 6</span><br></pre></td></tr></table></figure>

<p><strong>Example 4:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: mat &#x3D; [[1,0,0],[1,0,0]]</span><br><span class="line">Output: -1</span><br><span class="line">Explanation: Given matrix can&#39;t be a zero matrix</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>m == mat.length</code></li>
<li><code>n == mat[0].length</code></li>
<li><code>1 &lt;= m &lt;= 3</code></li>
<li><code>1 &lt;= n &lt;= 3</code></li>
<li><code>mat[i][j]</code> is 0 or 1.</li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>有一个 $n \times m$ 的二元矩阵，元素都为0或者1。现在有一个翻转操作，选定一个元素，如果为1就变为0，为0就变为1。然后其上下左右如果存在值，也进行同样的操作。求最少需要多少次可以得到全0的矩阵，如果得不到就返回-1.</p>
<p>这个题使用BFS解决，观察m和n的大小，我们实际上可以遍历所有的矩阵形式。但是要找出最短的变化方式，实际上就是找一条最短的路径，假设一个矩阵是一个点，两个矩阵可以通过某一个值的翻转互相转换，这两个点之间就有一条线相连。这就明显是使用BFS解决了。</p>
<p>使用队列存储，按层索引。具体方法就不介绍了。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上为遍历所有的可能矩阵形式为， $O(2^{m\times n})$。空间上，为队列，为$O(2^{m \times n-1})$。</p>
<p><code>Runtime: 8 ms, faster than 47.39% of C++ online submissions for Minimum Number of Flips to Convert Binary Matrix to Zero Matrix.</code></p>
<p><code>Memory Usage: 12.2 MB, less than 100.00% of C++ online submissions for Minimum Number of Flips to Convert Binary Matrix to Zero Matrix.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">num</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; mat)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; m:mat)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i:m) res = res * <span class="number">10</span> + i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">flip</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; mat, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">        mat[i][j] ^= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span>) mat[i<span class="number">-1</span>][j] ^= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (j &gt; <span class="number">0</span>) mat[i][j<span class="number">-1</span>] ^= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; row<span class="number">-1</span>) mat[i+<span class="number">1</span>][j] ^= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (j &lt; col<span class="number">-1</span>) mat[i][j+<span class="number">1</span>] ^= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> mat;</span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minFlips</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; mat)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>, row = mat.<span class="built_in">size</span>(), col = mat[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; S;</span><br><span class="line">        <span class="built_in">queue</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&gt; Q;</span><br><span class="line">        Q.push(mat);</span><br><span class="line">        S.insert(num(mat));</span><br><span class="line">        <span class="keyword">if</span> (num(mat) == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (Q.empty() == <span class="literal">false</span>) &#123;</span><br><span class="line">            res++;</span><br><span class="line">            <span class="keyword">int</span> len = Q.<span class="built_in">size</span>();</span><br><span class="line">            <span class="comment">//cout&lt;&lt;len&lt;&lt;" "&lt;&lt;S.size()&lt;&lt;endl;</span></span><br><span class="line">            <span class="keyword">while</span> (len-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//cout&lt;&lt;"enter"&lt;&lt;endl;</span></span><br><span class="line">                <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m = Q.front(); Q.pop();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;row; i++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;col; j++) &#123;</span><br><span class="line">                        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; t = flip(m, i, j, row, col);</span><br><span class="line">                        <span class="keyword">int</span> index = num(t);</span><br><span class="line">                        <span class="keyword">if</span> (index == <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">                        <span class="keyword">if</span> (S.<span class="built_in">find</span>(index) == S.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                            S.insert(index);</span><br><span class="line">                            Q.push(t);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2020-02-09</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/08/LeetCode(1289.%20Minimum%20Falling%20Path%20Sum%20II)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/08/LeetCode(1289.%20Minimum%20Falling%20Path%20Sum%20II)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1289. Minimum Falling Path Sum II)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-08 10:53:40" itemprop="dateCreated datePublished" datetime="2020-02-08T10:53:40+08:00">2020-02-08</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1289-Minimum-Falling-Path-Sum-II-题解"><a href="#LeetCode-1289-Minimum-Falling-Path-Sum-II-题解" class="headerlink" title="LeetCode(\1289. Minimum Falling Path Sum II)题解"></a>LeetCode(\1289. Minimum Falling Path Sum II)题解</h1><p>Given a square grid of integers <code>arr</code>, a <em>falling path with non-zero shifts</em> is a choice of exactly one element from each row of <code>arr</code>, such that no two elements chosen in adjacent rows are in the same column.</p>
<p>Return the minimum sum of a falling path with non-zero shifts.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: arr &#x3D; [[1,2,3],[4,5,6],[7,8,9]]</span><br><span class="line">Output: 13</span><br><span class="line">Explanation: </span><br><span class="line">The possible falling paths are:</span><br><span class="line">[1,5,9], [1,5,7], [1,6,7], [1,6,8],</span><br><span class="line">[2,4,8], [2,4,9], [2,6,7], [2,6,8],</span><br><span class="line">[3,4,8], [3,4,9], [3,5,7], [3,5,9]</span><br><span class="line">The falling path with the smallest sum is [1,5,7], so the answer is 13.</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= arr.length == arr[i].length &lt;= 200</code></li>
<li><code>-99 &lt;= arr[i][j] &lt;= 99</code></li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard</p>
<p>给一个二维数组arr($N\times N$)，从第一行到最后一行每行选择一个元素形成一条下落路径。路径的代价就是选择的所有元素之和。路径中，相邻行的元素不能是在同一列。计算最低的路径代价。</p>
<p>这个题一看就是使用DP，构建一个和arr等大的数组DP， $DP[i][j]$ 表示从第一行开始到第i行且最后落点是j的路径中的最低代价。因为相邻行的选点不能是同一列。因此状态转移方程就是。<br>$$<br>DP[i][j] = arr[i][j] + min(DP[i-1][0], …, D[i-1][j-1], D[i-1][j+1], …, D[i-1][N-1])<br>$$<br>为除了$DP[i-1][j]$之外的最小值加上当前选定点。而为了保证不重复计算，我们可以用一个Lmin记录$DP[i-1]$行中每个点左边的最小值，Rmin记录$DP[i-1]$行中每个点右边的最小值，那么这时候状态转移方程就更新为。<br>$$<br>DP[i][j] = arr[i][j] + min(Lmin[j], Rmin[j])<br>$$<br>注意要更新Lmin和Rmin数组，同时观察到每次更新状态都只用到了上一行的，因次可以把DP变为一个 $2 \times N$ 的数组，节省内存。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，每次更新Lmin和Rmin花费$O(n)$，填充DP一行是$O(n)$，因次总的就是$O(n^2)$。空间上，只用到了一个 $2 \times N$ 的数组，因此为$O(n)$。</p>
<p><code>Runtime: 32 ms, faster than 91.83% of C++ online submissions for Minimum Falling Path Sum II.</code></p>
<p><code>Memory Usage: 12.1 MB, less than 100.00% of C++ online submissions for Minimum Falling Path Sum II.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minFallingPathSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res, len = arr.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">DP</span><span class="params">(<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(len, <span class="number">0</span>))</span></span>;</span><br><span class="line">        vector&lt;int&gt; Lmin(len, 0), Rmin(len, 0);</span><br><span class="line">        <span class="keyword">int</span> lm, rm;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;len; j++) &#123;</span><br><span class="line">                DP[<span class="number">1</span>][j] = arr[i][j] + <span class="built_in">min</span>(Lmin[j], Rmin[j]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;len; j++) DP[<span class="number">0</span>][j] = DP[<span class="number">1</span>][j];</span><br><span class="line">            lm = rm = INT_MAX;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;len; j++) &#123;</span><br><span class="line">                Lmin[j] = lm;</span><br><span class="line">                Rmin[len-j<span class="number">-1</span>] = rm;</span><br><span class="line">                lm = <span class="built_in">min</span>(lm, DP[<span class="number">1</span>][j]);</span><br><span class="line">                rm = <span class="built_in">min</span>(rm, DP[<span class="number">1</span>][len-j<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        res = DP[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;len; j++) res = <span class="built_in">min</span>(res, DP[<span class="number">0</span>][j]);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-02-08</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/07/LeetCode(1269.%20Number%20of%20Ways%20to%20Stay%20in%20the%20Same%20Place%20After%20Some%20Steps)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/07/LeetCode(1269.%20Number%20of%20Ways%20to%20Stay%20in%20the%20Same%20Place%20After%20Some%20Steps)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1269. Number of Ways to Stay in the Same Place After Some Steps)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-07 15:04:48 / 修改时间：15:04:50" itemprop="dateCreated datePublished" datetime="2020-02-07T15:04:48+08:00">2020-02-07</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1269-Number-of-Ways-to-Stay-in-the-Same-Place-After-Some-Steps-题解"><a href="#LeetCode-1269-Number-of-Ways-to-Stay-in-the-Same-Place-After-Some-Steps-题解" class="headerlink" title="LeetCode(\1269. Number of Ways to Stay in the Same Place After Some Steps)题解"></a>LeetCode(\1269. Number of Ways to Stay in the Same Place After Some Steps)题解</h1><p>You have a pointer at index <code>0</code> in an array of size <code>arrLen</code>. At each step, you can move 1 position to the left, 1 position to the right in the array or stay in the same place (The pointer should not be placed outside the array at any time).</p>
<p>Given two integers <code>steps</code> and <code>arrLen</code>, return the number of ways such that your pointer still at index <code>0</code> after <strong>exactly</strong> <code>steps</code> steps.</p>
<p>Since the answer may be too large, return it <strong>modulo</strong> <code>10^9 + 7</code>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: steps &#x3D; 3, arrLen &#x3D; 2</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: There are 4 differents ways to stay at index 0 after 3 steps.</span><br><span class="line">Right, Left, Stay</span><br><span class="line">Stay, Right, Left</span><br><span class="line">Right, Stay, Left</span><br><span class="line">Stay, Stay, Stay</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: steps &#x3D; 2, arrLen &#x3D; 4</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: There are 2 differents ways to stay at index 0 after 2 steps</span><br><span class="line">Right, Left</span><br><span class="line">Stay, Stay</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: steps &#x3D; 4, arrLen &#x3D; 2</span><br><span class="line">Output: 8</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= steps &lt;= 500</code></li>
<li><code>1 &lt;= arrLen &lt;= 10^6</code></li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>给出步骤数steps，右边界arrLen，每次可以往左或往右或原地，求最后留在原地的总的方案数。这个题用更形象化的说法就是，假设一个人站在0位置处，一共可以走steps步，但是不能走到负数位置或者超过arrLen-1。请问有多少种方案，因为数可能很大，所以最后都求余了的。</p>
<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><p>仔细分析一下这个题，我们会发现这个题和括号匹配非常像。我们假设每一步的值为a，走一步就加一个a，初始化位置pos=0。往左时a=-1，原地不动时a=0，往右时a=1。那么最后一个满足题意的方案一定满足如下条件。<br>$$<br>pos = sum([a_0, a1, …, a_{steps-1}]) = 0 \<br>\begin{matrix}<br>0 \leq sum[a_0, a1, …, a_{i}] &lt; arrLen &amp; \left ( i \in [0, arrLen-1] \right )<br>\end{matrix}<br>$$<br>所以这个题可以使用递归解决，我们设定位置pos与还剩的步骤数，返回总的方案数。这里需要注意的是，搜索树分支巨大，而且有很多重复，因此我们需要记录中间状态，否则会超时。</p>
<p>使用map的pair机制可以记录特定的pos与steps下的方案数，后续再搜索到这个地方就可以直接返回了。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>对应代码如下，时间上，我们等于是构建pos和steps的map数组，而 $pos \leq min(arrLen-1, steps)$ ，因此花费时间 $O(min(arrLen,steps) \times steps)$。空间上，花费内存是递归的深度和Map的大小， $O(min(arrLen, steps) \times steps)$。</p>
<p><code>Runtime: 980 ms, faster than 5.16% of C++ online submissions for Number of Ways to Stay in the Same Place After Some Steps.</code> </p>
<p><code>Memory Usage: 61.1 MB, less than 100.00% of C++ online submissions for Number of Ways to Stay in the Same Place After Some Steps.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="built_in">map</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;, <span class="keyword">long</span>&gt; M;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> steps, <span class="keyword">int</span> arrLen, <span class="keyword">int</span> sum, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (sum &lt; <span class="number">0</span> <span class="keyword">or</span> sum &gt;= arrLen) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (steps &lt;= <span class="number">0</span>) <span class="keyword">return</span> sum == <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (M.<span class="built_in">find</span>(make_pair(steps, sum)) == M.<span class="built_in">end</span>()) &#123;</span><br><span class="line">            M[make_pair(steps, sum)] = (dfs(steps<span class="number">-1</span>, arrLen, sum, m) + dfs(steps<span class="number">-1</span>, arrLen, sum+<span class="number">1</span>, m) + dfs(steps<span class="number">-1</span>, arrLen, sum<span class="number">-1</span>, m)) % m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> M[make_pair(steps, sum)];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numWays</span><span class="params">(<span class="keyword">int</span> steps, <span class="keyword">int</span> arrLen)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dfs(steps, arrLen, <span class="number">0</span>, (<span class="keyword">int</span>)(<span class="built_in">pow</span>(<span class="number">10</span>, <span class="number">9</span>) + <span class="number">7</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h2 id="DP"><a href="#DP" class="headerlink" title="DP"></a>DP</h2><p>通过上述的分析，这个题用递归还是有点慢，但是从中间状态的记录可以看出直接用什么办法好一点，DP。这个题将递归改为非递归就是一个DP的问题啊兄弟！</p>
<p>方法如下，构建一个 $min(arrLen, steps+1) \times steps+1$的数组DP，DP[i][j] 表示从位置0开始走，在j步的范围内走到i点的方案数。那么状态转移方程就是。<br>$$<br>DP[i][j] = DP[i-1][j-1] + DP[i+1][j-1] + D[i][j-1]<br>$$<br>最后返回DP[0][steps]即可。</p>
<p>同时观察状态转移方程，每次更新只用到了上一列，因此可以将DP数组缩减为$O(step * 2)$大小。</p>
<h2 id="时空复杂度-1"><a href="#时空复杂度-1" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>对应代码如下，时间上还是构建DP数组，花费时间 $O(min(arrLen,steps) \times steps)$。空间上，花费内存， $O(steps)$。</p>
<p><code>Runtime: 16 ms, faster than 65.39% of C++ online submissions for Number of Ways to Stay in the Same Place After Some Steps.</code></p>
<p><code>Memory Usage: 8.9 MB, less than 100.00% of C++ online submissions for Number of Ways to Stay in the Same Place After Some Steps.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// DP[i][j] = DP[i-1][j-1] + DP[i+1][j-1] + D[i][j-1]</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numWays</span><span class="params">(<span class="keyword">int</span> steps, <span class="keyword">int</span> arrLen)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = (<span class="keyword">int</span>)(<span class="built_in">pow</span>(<span class="number">10</span>, <span class="number">9</span>) + <span class="number">7</span>), row = <span class="built_in">min</span>(steps, arrLen), col = steps;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; <span class="title">DP</span><span class="params">(row+<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;(<span class="number">2</span>, <span class="number">0</span>))</span></span>;</span><br><span class="line">        DP[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=col; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=row; i++) &#123;</span><br><span class="line">                DP[i][<span class="number">1</span>] = (DP[i][<span class="number">0</span>] + DP[i<span class="number">-1</span>][<span class="number">0</span>] + DP[i+<span class="number">1</span>][<span class="number">0</span>]) % m;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=row; i++) DP[i][<span class="number">0</span>] = DP[i][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> DP[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2020-02-07。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/07/LeetCode(1255.%20Maximum%20Score%20Words%20Formed%20by%20Letters)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/07/LeetCode(1255.%20Maximum%20Score%20Words%20Formed%20by%20Letters)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1255. Maximum Score Words Formed by Letters)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-07 11:13:06 / 修改时间：15:04:51" itemprop="dateCreated datePublished" datetime="2020-02-07T11:13:06+08:00">2020-02-07</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1255-Maximum-Score-Words-Formed-by-Letters-题解"><a href="#LeetCode-1255-Maximum-Score-Words-Formed-by-Letters-题解" class="headerlink" title="LeetCode(\1255. Maximum Score Words Formed by Letters)题解"></a>LeetCode(\1255. Maximum Score Words Formed by Letters)题解</h1><p>Given a list of <code>words</code>, list of single <code>letters</code> (might be repeating) and <code>score</code> of every character.</p>
<p>Return the maximum score of <strong>any</strong> valid set of words formed by using the given letters (<code>words[i]</code> cannot be used two or more times).</p>
<p>It is not necessary to use all characters in <code>letters</code> and each letter can only be used once. Score of letters <code>&#39;a&#39;</code>, <code>&#39;b&#39;</code>, <code>&#39;c&#39;</code>, … ,<code>&#39;z&#39;</code> is given by <code>score[0]</code>, <code>score[1]</code>, … , <code>score[25]</code> respectively.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: words &#x3D; [&quot;dog&quot;,&quot;cat&quot;,&quot;dad&quot;,&quot;good&quot;], letters &#x3D; [&quot;a&quot;,&quot;a&quot;,&quot;c&quot;,&quot;d&quot;,&quot;d&quot;,&quot;d&quot;,&quot;g&quot;,&quot;o&quot;,&quot;o&quot;], score &#x3D; [1,0,9,5,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0]</span><br><span class="line">Output: 23</span><br><span class="line">Explanation:</span><br><span class="line">Score  a&#x3D;1, c&#x3D;9, d&#x3D;5, g&#x3D;3, o&#x3D;2</span><br><span class="line">Given letters, we can form the words &quot;dad&quot; (5+1+5) and &quot;good&quot; (3+2+2+5) with a score of 23.</span><br><span class="line">Words &quot;dad&quot; and &quot;dog&quot; only get a score of 21.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: words &#x3D; [&quot;xxxz&quot;,&quot;ax&quot;,&quot;bx&quot;,&quot;cx&quot;], letters &#x3D; [&quot;z&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;x&quot;,&quot;x&quot;,&quot;x&quot;], score &#x3D; [4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,10]</span><br><span class="line">Output: 27</span><br><span class="line">Explanation:</span><br><span class="line">Score  a&#x3D;4, b&#x3D;4, c&#x3D;4, x&#x3D;5, z&#x3D;10</span><br><span class="line">Given letters, we can form the words &quot;ax&quot; (4+5), &quot;bx&quot; (4+5) and &quot;cx&quot; (4+5) with a score of 27.</span><br><span class="line">Word &quot;xxxz&quot; only get a score of 25.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: words &#x3D; [&quot;leetcode&quot;], letters &#x3D; [&quot;l&quot;,&quot;e&quot;,&quot;t&quot;,&quot;c&quot;,&quot;o&quot;,&quot;d&quot;], score &#x3D; [0,0,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0]</span><br><span class="line">Output: 0</span><br><span class="line">Explanation:</span><br><span class="line">Letter &quot;e&quot; can only be used once.</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= words.length &lt;= 14</code></li>
<li><code>1 &lt;= words[i].length &lt;= 15</code></li>
<li><code>1 &lt;= letters.length &lt;= 100</code></li>
<li><code>letters[i].length == 1</code></li>
<li><code>score.length == 26</code></li>
<li><code>0 &lt;= score[i] &lt;= 10</code></li>
<li><code>words[i]</code>, <code>letters[i]</code> contains only lower case English letters.</li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>一个单词列表words，一个字符列表letters，字符可能会有重复，一个26个字符的得分数组score，所有的字符都是小写字母。现在用letters内的字符尽力去组合成words内的单词，最后组合成的单词的得分就是字符的分数之和。计算最后能得到的最大的得分。</p>
<p>这个题最笨的方法就是穷举，枚举每种组合，一个word有选与不选两种，最后要枚举 $2^n$ 种方案。但是每个单词的长度&lt;15，因此我们可以在常数时间内判断一个单词是否能被组合，而单词数目n&lt;=14。所以即便枚举也花不了太多时间。</p>
<p>使用dfs暴力枚举即可，每个单词选择与不选，最后得出最大值。Python的Counter是一个不错的东西。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>时间上，枚举所有方案， $O(2^n)$. 空间上，递归的深度为N， $O(n)$。</p>
<p><code>Runtime: 44 ms, faster than 83.69% of Python3 online submissions for Maximum Score Words Formed by Letters.</code></p>
<p><code>Memory Usage: 12.8 MB, less than 100.00% of Python3 online submissions for Maximum Score Words Formed by Letters.</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(self, words, letters, score)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(words) == <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># not select</span></span><br><span class="line">        res = self.dfs(words[<span class="number">1</span>:], letters, score)</span><br><span class="line">        <span class="comment"># select</span></span><br><span class="line">        m = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">for</span> w <span class="keyword">in</span> words[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">if</span> w <span class="keyword">not</span> <span class="keyword">in</span> letters <span class="keyword">or</span> words[<span class="number">0</span>][w] &gt; letters[w]: m = <span class="literal">False</span>; <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> m == <span class="literal">True</span>:</span><br><span class="line">            s = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> w <span class="keyword">in</span> words[<span class="number">0</span>]: </span><br><span class="line">                letters[w] -= words[<span class="number">0</span>][w]</span><br><span class="line">                s += score[w] * words[<span class="number">0</span>][w]</span><br><span class="line">        </span><br><span class="line">            res = max(res, s + self.dfs(words[<span class="number">1</span>:], letters, score))</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">for</span> w <span class="keyword">in</span> words[<span class="number">0</span>]: letters[w] += words[<span class="number">0</span>][w]</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxScoreWords</span><span class="params">(self, words: List[str], letters: List[str], score: List[int])</span> -&gt; int:</span></span><br><span class="line">        words = [Counter(word) <span class="keyword">for</span> word <span class="keyword">in</span> words]</span><br><span class="line">        letters = Counter(letters)</span><br><span class="line">        score_ = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">26</span>): score_[chr(<span class="number">97</span>+i)] = score[i]</span><br><span class="line">        </span><br><span class="line">        res = self.dfs(words, letters, score_)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-02-07</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/07/LeetCode(312.%20Burst%20Balloons)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/07/LeetCode(312.%20Burst%20Balloons)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(312. Burst Balloons)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-07 00:28:06 / 修改时间：12:43:16" itemprop="dateCreated datePublished" datetime="2020-02-07T00:28:06+08:00">2020-02-07</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-312-Burst-Balloons-题解"><a href="#LeetCode-312-Burst-Balloons-题解" class="headerlink" title="LeetCode(\312. Burst Balloons)题解"></a>LeetCode(\312. Burst Balloons)题解</h1><p>Given <code>n</code> balloons, indexed from <code>0</code> to <code>n-1</code>. Each balloon is painted with a number on it represented by array <code>nums</code>. You are asked to burst all the balloons. If the you burst balloon <code>i</code> you will get <code>nums[left] * nums[i] * nums[right]</code> coins. Here <code>left</code> and <code>right</code> are adjacent indices of <code>i</code>. After the burst, the <code>left</code> and <code>right</code> then becomes adjacent.</p>
<p>Find the maximum coins you can collect by bursting the balloons wisely.</p>
<p><strong>Note:</strong></p>
<ul>
<li>You may imagine <code>nums[-1] = nums[n] = 1</code>. They are not real therefore you can not burst them.</li>
<li>0 ≤ <code>n</code> ≤ 500, 0 ≤ <code>nums[i]</code> ≤ 100</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [3,1,5,8]</span><br><span class="line">Output: 167 </span><br><span class="line">Explanation: nums &#x3D; [3,1,5,8] --&gt; [3,5,8] --&gt;   [3,8]   --&gt;  [8]  --&gt; []</span><br><span class="line">             coins &#x3D;  3*1*5      +  3*5*8    +  1*3*8      + 1*8*1   &#x3D; 167</span><br></pre></td></tr></table></figure>

<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>给出N个排列的气球，每个气球里面有一些金币，第i个气球的金币是nums[i]. 现在要打爆所有的气球，打爆第k个气球，得到的金币为nums[k-1] * nums[k] * nums[k+1]. 打爆一个气球之后，剩下的气球又重新组合在一起，成为新的排列。现在要求选定一个打气球的顺序，可以得到最多的金币，返回这个金币数。如果最后只剩1个或者两个气球，就默认边上还有金币为1的气球，得到的金币数为1 * nums[0] * 1. 即假定nums[-1] = nums[N] = 1.</p>
<p>这个题可以使用DP。说实话构建状态转移方程有点难，对于这种问题，最直观的思路就是先不要想用多大存储空间，数据存储结构，而是先构思出转移方程的数学表达式。这个题，首先假设DP[i,j]表示nums[i,j]之间可以得到的最大的金币数，那么最后直接返回DP[0, n-1]就可以了。</p>
<p>如何填充这个DP呢？</p>
<p>首先我们肯定假设i<del>j之间比如DP[i,j-1]中是填充好了的。 然后对于i到j之间的爆掉气球的顺序不知道，我们唯一知道的就是最后一个气球爆掉时，左右两边相邻的气球的金币数。没错，就是nums[i-1]和nums[j+1]。那么我们就可以假设i</del>j之间最后一个爆掉的气球是k，那么DP[i, j] = DP[i, k-1] + DP[k+1, j] + nums[i-1] * nums[k] * nums[j+1]. 那么我们只需要遍历一下，看看哪个k可以使得DP[i,j]最大就行了。</p>
<p>还有一个问题就是，如果i==j, 那么就直接就是DP[i, j] = nums[i-1] * nums[i] * nums[j+1]。所以我们可以设定DP[i,j]=0 (j&lt;i)。另外，为了计算方便，我们可以干脆在nums左右各添加一个1，避免每次都判断是不是到了边界。</p>
<p><em>*所以一切都明了了，设定一个(N+2)\</em>(N+2)的DP数组，DP[i,j]表示nums[i~j]之间可以得到的最大金币数，状态转移方程为： **</p>
<ul>
<li><strong>DP[i, j] = DP[i, k-1] + DP[k+1, j] + nums[i-1] * nums[k] * nums[j+1]. (1&lt;=k&lt;=j)</strong></li>
</ul>
<p>最后返回DP[1, len]即可。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，三个for循环，时间复杂度O(n3)。空间上，一个状态方程数组，O(n2)。</p>
<p><code>Runtime: 16 ms, faster than 90.74% of C++ online submissions for Burst Balloons.</code></p>
<p><code>Memory Usage: 9.4 MB, less than 55.00% of C++ online submissions for Burst Balloons.</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// DP[i, j] = DP[i, k-1] + DP[k+1, j] + nums[i-1] \* nums[k] \* nums[j+1]. (1&lt;=k&lt;=j)</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        nums.insert(nums.<span class="built_in">begin</span>(), <span class="number">1</span>);</span><br><span class="line">        nums.insert(nums.<span class="built_in">end</span>(), <span class="number">1</span>);  <span class="comment">// nums.push_back(1);</span></span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">DP</span><span class="params">(len+<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(len+<span class="number">2</span>, <span class="number">0</span>))</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">0</span>; v&lt;len; v++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=len; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> j = i + v; </span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k=i; k&lt;=j <span class="keyword">and</span> j&lt;=len; k++) &#123;</span><br><span class="line">                    DP[i][j] = <span class="built_in">max</span>(DP[i][j], DP[i][k<span class="number">-1</span>] + DP[k+<span class="number">1</span>][j] + nums[i<span class="number">-1</span>] * nums[k] * nums[j+<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> DP[<span class="number">1</span>][len];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p>BitBrave, 2020-02-06. 这个题对于我来说有点难，还是学习了别人的之后才做出来的。 要慢慢学会做hard的题。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/05/LeetCode(1253.%20Reconstruct%20a%202-Row%20Binary%20Matrix)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="XJ">
      <meta itemprop="description" content="幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BitBrave">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/05/LeetCode(1253.%20Reconstruct%20a%202-Row%20Binary%20Matrix)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(1253. Reconstruct a 2-Row Binary Matrix)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-05 11:29:25" itemprop="dateCreated datePublished" datetime="2020-02-05T11:29:25+08:00">2020-02-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-1253-Reconstruct-a-2-Row-Binary-Matrix-题解"><a href="#LeetCode-1253-Reconstruct-a-2-Row-Binary-Matrix-题解" class="headerlink" title="LeetCode(\1253. Reconstruct a 2-Row Binary Matrix)题解"></a>LeetCode(\1253. Reconstruct a 2-Row Binary Matrix)题解</h1><p>Given the following details of a matrix with <code>n</code> columns and <code>2</code> rows :</p>
<ul>
<li>The matrix is a binary matrix, which means each element in the matrix can be <code>0</code> or <code>1</code>.</li>
<li>The sum of elements of the 0-th(upper) row is given as <code>upper</code>.</li>
<li>The sum of elements of the 1-st(lower) row is given as <code>lower</code>.</li>
<li>The sum of elements in the i-th column(0-indexed) is <code>colsum[i]</code>, where <code>colsum</code> is given as an integer array with length <code>n</code>.</li>
</ul>
<p>Your task is to reconstruct the matrix with <code>upper</code>, <code>lower</code> and <code>colsum</code>.</p>
<p>Return it as a 2-D integer array.</p>
<p>If there are more than one valid solution, any of them will be accepted.</p>
<p>If no valid solution exists, return an empty 2-D array.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: upper &#x3D; 2, lower &#x3D; 1, colsum &#x3D; [1,1,1]</span><br><span class="line">Output: [[1,1,0],[0,0,1]]</span><br><span class="line">Explanation: [[1,0,1],[0,1,0]], and [[0,1,1],[1,0,0]] are also correct answers.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: upper &#x3D; 2, lower &#x3D; 3, colsum &#x3D; [2,2,1,1]</span><br><span class="line">Output: []</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: upper &#x3D; 5, lower &#x3D; 5, colsum &#x3D; [2,1,2,0,1,0,1,2,0,1]</span><br><span class="line">Output: [[1,1,1,0,1,0,0,1,0,0],[1,0,1,0,0,0,1,1,0,1]]</span><br></pre></td></tr></table></figure>



<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= colsum.length &lt;= 10^5</code></li>
<li><code>0 &lt;= upper, lower &lt;= colsum.length</code></li>
<li><code>0 &lt;= colsum[i] &lt;= 2</code></li>
</ul>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>重构一个二元数组（由0和1组成）。两行N列。给出第一行和第二行中1的数目，同时给出每一列的和，根据这些知识将数组重构出来。</p>
<p>这个题可以使用Greedy的办法，首先根据给出的每一列的和，和为0表示两个都是0，和为2表示两个都是1，这些可以直接填充进去，然后为1的就是不确定的（一个为1一个为0），这时候如果为1就将给出的第一行和第二行的1的数目都减去，最后看不确定的中的1的数目是不是这两数相加之和，如果不是表示无法满足情况，或者这两个数目之中有负数，也表示无解。</p>
<p>如果满足的话，就直接从头到尾遍历，将先满足第一行，不确定的数都填1知道满足给定的第一行的1的数目。然后对应第二行数填0，然后满足之后就第一行填0第二行填1即可。</p>
<h2 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h2><p>代码如下，时间上，只需要遍历两次数组即可，O(n)。空间上，结果和记录是否填充的数组占内存O(n)。</p>
<p><code>Runtime: 804 ms, faster than 27.49% of Python3 online submissions for Reconstruct a 2-Row Binary Matrix.</code></p>
<p><code>Memory Usage: 23.2 MB, less than 100.00% of Python3 online submissions for Reconstruct a 2-Row Binary Matrix.</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reconstructMatrix</span><span class="params">(self, upper: int, lower: int, colsum: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class="line">        n = len(colsum)</span><br><span class="line">        res, visit = [[<span class="number">0</span>] * n, [<span class="number">0</span>] * n], [<span class="literal">False</span>] * n</span><br><span class="line">        </span><br><span class="line">        change = n</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> colsum[i] == <span class="number">0</span>: </span><br><span class="line">                res[<span class="number">0</span>][i] = res[<span class="number">1</span>][i] = <span class="number">0</span>; change -= <span class="number">1</span>; visit[i] = <span class="literal">True</span>;</span><br><span class="line">            <span class="keyword">elif</span> colsum[i] == <span class="number">2</span>: </span><br><span class="line">                res[<span class="number">0</span>][i] = res[<span class="number">1</span>][i] = <span class="number">1</span>; change -= <span class="number">1</span>; visit[i] = <span class="literal">True</span>; lower -= <span class="number">1</span>; upper -= <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> change != upper + lower <span class="keyword">or</span> lower &lt; <span class="number">0</span> <span class="keyword">or</span> upper &lt; <span class="number">0</span>: <span class="keyword">return</span> []</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> visit[i] == <span class="literal">True</span>: <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> upper &gt; <span class="number">0</span>: res[<span class="number">0</span>][i] = <span class="number">1</span>; res[<span class="number">1</span>][i] = <span class="number">0</span>; upper -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: res[<span class="number">0</span>][i] = <span class="number">0</span>; res[<span class="number">1</span>][i] = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<p>BitBrave，2020-02-05，Python还是慢。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/">35</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">XJ</p>
  <div class="site-description" itemprop="description">幸福总是相通的，不幸则各有各的不幸。寂寞好像是世人的共性，众生都是我，也都不是我。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">344</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">XJ</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
