<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/19/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/19/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(32.%20Longest%20Valid%20Parentheses)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(32.%20Longest%20Valid%20Parentheses)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(32. Longest Valid Parentheses)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-32-Longest-Valid-Parentheses-题解"><a href="#LeetCode-32-Longest-Valid-Parentheses-题解" class="headerlink" title="LeetCode(32. Longest Valid Parentheses)题解"></a>LeetCode(32. Longest Valid Parentheses)题解</h1><hr>
<p>Given a string containing just the characters ‘(‘ and ‘)’, find the length of the longest valid (well-formed) parentheses substring.</p>
<p>Example 1:</p>
<pre><code>Input: &quot;(()&quot;
Output: 2
Explanation: The longest valid parentheses substring is &quot;()&quot;</code></pre><p>Example 2:</p>
<pre><code>Input: &quot;)()())&quot;
Output: 4
Explanation: The longest valid parentheses substring is &quot;()()&quot;</code></pre><h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Hard题，题目要求给定一串由”(“和”)”组成的字符串，然后判断这个字符串内最大的合法字符串的长度是多少。</p>
<h3 id="解法1（完全自我推断-时间复杂度O-n2-空间复杂度O-1-）"><a href="#解法1（完全自我推断-时间复杂度O-n2-空间复杂度O-1-）" class="headerlink" title="解法1（完全自我推断,时间复杂度O(n2), 空间复杂度O(1)）"></a>解法1（完全自我推断,时间复杂度O(n2), 空间复杂度O(1)）</h3><p>一个思路是，从每一个位置开始，然后逐步遍历到最后看当前字符串是否是合法的。（当从左到右数，任意位置下，当前的”(“的数量是大于等于”)”的数量，并且当”(“的数量等于”)”时，表示这个字符串是相等的。时间复杂度O(n2)</p>
<p>代码如下，非常慢（624ms，faster than 5.73% examples，但内存9.2 MB, less than 99.43%）:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>, len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">            left = <span class="number">0</span>;</span><br><span class="line">            right = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i; j&lt;len; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s[j]==<span class="string">'('</span>) left++;</span><br><span class="line">                <span class="keyword">else</span> right++;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(left==right) ret = <span class="built_in">max</span>(ret, left+right);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(left&lt;right) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>下面的方法均参考别人的解法，理解之后完成代码。</p>
<h3 id="解法2-时间复杂度O-n-空间复杂度O-n"><a href="#解法2-时间复杂度O-n-空间复杂度O-n" class="headerlink" title="解法2(时间复杂度O(n),空间复杂度O(n))"></a>解法2(时间复杂度O(n),空间复杂度O(n))</h3><p>使用栈结构<br>使用一个栈来存储位置，初始化一个值sta=0，用来记录合法字符串的起点，一个值ret记录目前的最长的有效字符串。从左到右遍历s，遇到左括号就压入位置。遇到右括号时，有以下几种情况。</p>
<p>1 当前栈内为空，表示右括号没有匹配，则丢弃即可。将sta设为当前右括号的下一个位置。<br>2 当前不为空，且弹出当前字符，此时且栈内为空，表示目前遍历的字符串是匹配的，更新ret = max(ret, i-sta+1)<br>3 当前不为空，且弹出当前字符，此时且栈内也不为空，表示目前遍历的字符串中栈顶元素所在位置往后数到i都是匹配的，更新ret = max(ret, i-栈顶元素所在位置)</p>
<p>代码如下：<br>Runtime: 4 ms, faster than 99.94% of C++ online submissions for Longest Valid Parentheses.<br>Memory Usage: 9.7 MB, less than 98.85% of C++ online submissions for Longest Valid Parentheses.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>, sta = <span class="number">0</span>, len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; st;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i]==<span class="string">'('</span>) st.push(i);</span><br><span class="line">            <span class="keyword">else</span>&#123; <span class="comment">// ')'</span></span><br><span class="line">                <span class="keyword">if</span>(st.empty()) sta = i+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    st.pop();</span><br><span class="line">                    ret = <span class="built_in">max</span>(ret, st.empty() ? i-sta+<span class="number">1</span>:i-st.top());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="解法3-时间复杂度O-n-空间复杂度O-n"><a href="#解法3-时间复杂度O-n-空间复杂度O-n" class="headerlink" title="解法3(时间复杂度O(n),空间复杂度O(n))"></a>解法3(时间复杂度O(n),空间复杂度O(n))</h3><p>使用DP, 建立一个数组与s的长度一致。dp[i]表示从s[0]开始以s[i]作为有效合法字符串的结尾字符时的有效合法字符串最长长度。</p>
<p>首先初始化所有dp元素为0，然后从头到尾遍历s，当遍历到s[i]时，有如下几种情况。</p>
<p>1 s[i]为左括号，直接设置dp[i]==0，因为以左括号结尾的字符串不会是合法字符串。<br>2 s[i]为右括号，有如下几种情况<br>2.1 s[i-1]为左括号，表示二者匹配，那么可以直接就在dp[i-2]的基础上+2即可<br>2.2 s[i-1]为右括号，这表示其可能与前面的某个左括号已经匹配了（形成了”(<strong>**</strong>)”），那么我们就需要刨除掉这个匹配序列（包括中间的），直接查看s[i-1-dp[i-1]]，又有如下两种情况。<br>2.2.1 s[i-1-dp[i-1]]为左括号，表示其与s[i]匹配，那么可以直接就在dp[i-1]的基础上+2，但这时候还要注意s[i-1-dp[i-1]]前面可能还有匹配的，因此要再加上dp[i-1-dp[i-1]-1]。<br>2.2.2 s[i-1]为右括号，表示二者不匹配，dp[i]等于0即可 </p>
<p>其实还有一种反向的，使用DP, 建立一个数组与s的长度一致。dp[i]表示以s[i]开始的到结尾字符时的有效合法字符串的最长长度。但原理是一模一样的，只是换个方向而已。</p>
<p>代码如下：<br>Runtime: 8 ms, faster than 98.56% of C++ online submissions for Longest Valid Parentheses.<br>Memory Usage: 9.6 MB, less than 98.85% of C++ online submissions for Longest Valid Parentheses.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>, len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(len&lt;=<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">dp</span><span class="params">(len, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i]==<span class="string">'('</span>) dp[i] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span>&#123; <span class="comment">// ')'</span></span><br><span class="line">                <span class="keyword">if</span>(i&lt;<span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(s[i<span class="number">-1</span>]==<span class="string">'('</span>) dp[i] = <span class="number">2</span> + (i&lt;<span class="number">2</span> ? <span class="number">0</span> : dp[i<span class="number">-2</span>]);</span><br><span class="line">                <span class="keyword">else</span> dp[i] = i<span class="number">-1</span>-dp[i<span class="number">-1</span>]&gt;=<span class="number">0</span> &amp;&amp;  s[i<span class="number">-1</span>-dp[i<span class="number">-1</span>]]==<span class="string">'('</span>? (dp[i<span class="number">-1</span>] + <span class="number">2</span> + (i<span class="number">-2</span>-dp[i<span class="number">-1</span>]&gt;=<span class="number">0</span> ? dp[i<span class="number">-2</span>-dp[i<span class="number">-1</span>]] : <span class="number">0</span>)) : <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ret = <span class="built_in">max</span>(ret, dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="解法4-时间复杂度O-n-空间复杂度O-1-个人觉得是最棒的思路"><a href="#解法4-时间复杂度O-n-空间复杂度O-1-个人觉得是最棒的思路" class="headerlink" title="解法4(时间复杂度O(n),空间复杂度O(1)) 个人觉得是最棒的思路"></a>解法4(时间复杂度O(n),空间复杂度O(1)) 个人觉得是最棒的思路</h3><p>从头到尾遍历s，再从尾到头遍历s，二次遍历即可。</p>
<p>首先从左到右，使用left记录遇到的左括号数，right记录遇到的右括号数。当left==right时，更新ret=max(ret, left+right)，当左括号比右括号多时就不管，但是右括号比左括号多的时候就表示这个已经不匹配了，就从当前位置的下一个重新开始计数。</p>
<p>然后从右到左，使用left记录遇到的左括号数，right记录遇到的右括号数。当left==right时，更新ret=max(ret, left+right)，当右括号比比括号多时就不管，但是左括号比右括号多的时候就表示这个已经不匹配了，就从当前位置的下一个重新开始计数。</p>
<p>解释，前后两遍遍历其实是将多余的左括号和右括号的情况都涵盖了进来，当序列中左括号多时，从后往前可以得到最多的。当右括号多时，从左往右可以计算出来。</p>
<p>代码如下：<br>Runtime: 8 ms, faster than 98.56% of C++ online submissions for Longest Valid Parentheses.<br>Memory Usage: 9.2 MB, less than 99.43% of C++ online submissions for Longest Valid Parentheses.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>, len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">            s[i] == <span class="string">'('</span> ? left++ : right++;</span><br><span class="line">            <span class="keyword">if</span>(left==right) ret = <span class="built_in">max</span>(ret, left*<span class="number">2</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(left&lt;right) &#123;</span><br><span class="line">                left = <span class="number">0</span>;</span><br><span class="line">                right = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        left = <span class="number">0</span>; right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=len<span class="number">-1</span>; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">            s[i] == <span class="string">'('</span> ? left++ : right++;</span><br><span class="line">            <span class="keyword">if</span>(left==right) ret = <span class="built_in">max</span>(ret, left*<span class="number">2</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(left&gt;right)&#123;</span><br><span class="line">                left = <span class="number">0</span>;</span><br><span class="line">                right = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2019-05-08</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(38.%20Count%20and%20Say)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(38.%20Count%20and%20Say)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(38. Count and Say)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-38-Count-and-Say-题解"><a href="#LeetCode-38-Count-and-Say-题解" class="headerlink" title="LeetCode(38. Count and Say)题解"></a>LeetCode(38. Count and Say)题解</h1><hr>
<p>The count-and-say sequence is the sequence of integers with the first five terms as following:</p>
<pre><code>1.     1
2.     11
3.     21
4.     1211
5.     111221
1 is read off as &quot;one 1&quot; or 11.
11 is read off as &quot;two 1s&quot; or 21.
21 is read off as &quot;one 2, then one 1&quot; or 1211.</code></pre><p>Given an integer n where 1 ≤ n ≤ 30, generate the nth term of the count-and-say sequence.</p>
<p>Note: Each term of the sequence of integers will be represented as a string.</p>
<p>Example 1:</p>
<pre><code>Input: 1
Output: &quot;1&quot;</code></pre><p>Example 2:</p>
<pre><code>Input: 4
Output: &quot;1211&quot;</code></pre><h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Easy题，要求根据要求进行读数。</p>
<p>这个题其实看了很久，好几天，每次都是看一会儿发现不懂就换了。这个乍一看是有点难懂，其实就是给一个数n表示读的次数，就是在第n次读第n-1次给出的字符串。当n等于1的时候读做1，n=2时就直接将其读作11表示1个1，n=3时将11读作2个1，返回21，当n=4时，将21读作1个2和1个1，返回1211。</p>
<p>代码如下，天然的递归：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">countAndSay</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="keyword">return</span> <span class="string">"1"</span>;</span><br><span class="line">        <span class="built_in">string</span> tmp = countAndSay(n<span class="number">-1</span>), ret = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">int</span> len = tmp.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len<span class="number">-1</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(tmp[i]==tmp[i+<span class="number">1</span>]) count++;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                ret += count + <span class="string">'0'</span>;</span><br><span class="line">                ret += tmp[i];</span><br><span class="line">                count = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ret += count + <span class="string">'0'</span>;</span><br><span class="line">        ret += tmp[len<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2019-05-05</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(45.%20Jump%20Game%20II)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(45.%20Jump%20Game%20II)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(45. Jump Game II)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-45-Jump-Game-II-题解"><a href="#LeetCode-45-Jump-Game-II-题解" class="headerlink" title="LeetCode(45. Jump Game II)题解"></a>LeetCode(45. Jump Game II)题解</h1><hr>
<p>Given an array of non-negative integers, you are initially positioned at the first index of the array.</p>
<p>Each element in the array represents your maximum jump length at that position.</p>
<p>Your goal is to reach the last index in the minimum number of jumps.</p>
<p>Example:</p>
<pre><code>Input: [2,3,1,1,4]
Output: 2
Explanation: The minimum number of jumps to reach the last index is 2.
    Jump 1 step from index 0 to 1, then 3 steps to the last index.</code></pre><p>Note:</p>
<p>You can assume that you can always reach the last index.</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>这个题的前提是，这个题一定有解法。即我肯定可以在n-1步之内跳到最后。当然，就算是不可解的，下面的算法稍微改一改，判断一下即可。</p>
<p>一个比较简单的解法是，我们用一个同等长度的数组JumpTimes来记录从当前位置开始起跳的话，最少跳几次可以达到最后一个位置。我们只需要填充完则合格数组，然后返回JumpTimes[0]即可。如何来填充呢，可以采用如下方式：最后一个位置往前数，当当前位置的数ai&gt;=l（l=i位置离最后一个位置的长度）时，表示只需要跳一次就可以记录JumpTimes[i]=1。当遇到ai&lt;\l时，就从离i位置最远的i+ai位置开始往左数直到i+1，JumpTimes[i] = min(1+JumpTimes[j])(i+1&lt;=j&lt;=ai+i)，表示我多跳一次到达这些位置即可。当然，如果能直接到最后一个就直接设置JumpTimes[i]=1。就这样首先将i设为n-1，然后n-2，直到n=1，回到最初的地方。时间复杂度为O(n2).但这样LeetCode内会超时。</p>
<p>可以使用贪心的算法，假设给定的数组为A=[a1,a2,a3, …, an]，那么可以知道我们需要从a1要跳最小的次数到an。当然如果a1直接&gt;=n-1的话，就表示跳一次就可以到达最后面。那么如果需要跳的次数超过一次呢？首先我们考虑从开头最远跳a1的长度到达位置i，然后在这个位置最长可以跳ai的长度。这里我们可以观察到一个性质：从位置1开始跳长度l（l&lt;=a1）到位置l+1，那么寻找一个L = max(l+al+1)，从位置1开始跳两次的长度最远都不会超过这个距离。而在后续的跳法中，就算是最优的（即跳得最少的次数）跳法里面，从开头跳两次的方法都可以改为L中的第一次的跳法。这是因为L的跳法涵盖了保证了我可以跳得最远，有最多的选择，那么就可以涵盖其它跳得不够远的情况了。</p>
<p>因此，我们可以说最优的办法就是第一次跳的位置就是L中的跳l长度，达到al+1，然后第二次的跳的位置就是以al+1为起始点，按照上述的策略一样。需要注意的就是，只要可以一步到达最后的位置，就可以结束算法了。</p>
<p>代码如下，其实可以由优化的，比如在for循环的时候，下一次的比较是不需要从sta+nums[sta]到sta都遍历一遍的，而只需要记录下上一次的位置pre_sta，从sta+nums[sta]到pre_sta+nums[pre_sta]即可。但是不这样效果也已经很不错了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">jump</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(len &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> times = <span class="number">0</span>, sta = <span class="number">0</span>, tmp, tmps;</span><br><span class="line">        <span class="keyword">while</span>(sta&lt;len<span class="number">-1</span>)&#123;</span><br><span class="line">            times++;</span><br><span class="line">            tmp = <span class="number">0</span>;</span><br><span class="line">            tmps = INT_MAX;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=sta+nums[sta]; i&gt;sta; i--)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i&gt;=len<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(tmp &lt; i+nums[i])&#123;</span><br><span class="line">                    tmp = i+nums[i];</span><br><span class="line">                    tmps = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            sta = tmps;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> times;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2019-05-07</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(5.%20Longest%20Palindromic%20Substring)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(5.%20Longest%20Palindromic%20Substring)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(5. Longest Palindromic Substring)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-5-Longest-Palindromic-Substring-题解"><a href="#LeetCode-5-Longest-Palindromic-Substring-题解" class="headerlink" title="LeetCode(5. Longest Palindromic Substring)题解"></a>LeetCode(5. Longest Palindromic Substring)题解</h1><hr>
<p>原文如下：<br>Given a string s, find the longest palindromic substring in s. You may assume that the maximum length of s is 1000.</p>
<p>Example 1:</p>
<pre><code>Input: &quot;babad&quot;
Output: &quot;bab&quot;
Note: &quot;aba&quot; is also a valid answer.</code></pre><p>Example 2:</p>
<pre><code>Input: &quot;cbbd&quot;
Output: &quot;bb&quot;</code></pre><h2 id="题目思路，就是返回一个string内的最长的回文串而已。这个题是Medium，一般一个写得快一点的O-n2-的就可以AC，一个比较精巧的就是线性时间复杂度。"><a href="#题目思路，就是返回一个string内的最长的回文串而已。这个题是Medium，一般一个写得快一点的O-n2-的就可以AC，一个比较精巧的就是线性时间复杂度。" class="headerlink" title="题目思路，就是返回一个string内的最长的回文串而已。这个题是Medium，一般一个写得快一点的O(n2)的就可以AC，一个比较精巧的就是线性时间复杂度。"></a>题目思路，就是返回一个string内的最长的回文串而已。这个题是Medium，一般一个写得快一点的O(n2)的就可以AC，一个比较精巧的就是线性时间复杂度。</h2><h2 id="O-n2-的解法"><a href="#O-n2-的解法" class="headerlink" title="O(n2)的解法"></a>O(n2)的解法</h2><p>以每个字符为中心，从中间向两边遍历，直到遇到不相等的，然后记录下这个子串。遍历完所有字符之后得到最长的奇数子串。然后以每两个相邻的相同的字符为中心，再向两边遍历，得到最长的偶数子串。最后两个子串比较得到最长的回文串。这个方法需要一些技巧，比如不要每次都赋值记录子串，这样会消耗很多不比必要的时间，从而不能AC，可以只记录位置，最后找到最长的子串位置，再赋值即可。</p>
<p>代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">longestPalindrome</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.<span class="built_in">size</span>()==<span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">res</span><span class="params">(<span class="number">1</span>, s[<span class="number">0</span>])</span></span>;</span><br><span class="line">        <span class="keyword">int</span> len = s.<span class="built_in">size</span>(), rl = <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// odd</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len; i++)&#123;</span><br><span class="line">            <span class="function"><span class="built_in">string</span> <span class="title">t</span><span class="params">(<span class="number">1</span>, s[i])</span></span>;</span><br><span class="line">            <span class="keyword">int</span> left = i<span class="number">-1</span>, right = i+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(; left&gt;=<span class="number">0</span> &amp;&amp; right&lt;len &amp;&amp; s[right]==s[left]; left--, right++);</span><br><span class="line">            left++; right--;</span><br><span class="line">            <span class="keyword">if</span>(right - left + <span class="number">1</span> &gt; res.<span class="built_in">size</span>()) res =  s.substr(left, right - left + <span class="number">1</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// even</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i<span class="number">-1</span>]!=s[i]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="number">2</span> &gt; res.<span class="built_in">size</span>()) res = s.substr(i<span class="number">-1</span>, <span class="number">2</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">int</span> left = i<span class="number">-2</span>, right = i+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(; left&gt;=<span class="number">0</span> &amp;&amp; right&lt;len &amp;&amp; s[right]==s[left]; left--, right++);</span><br><span class="line">            left++; right--;</span><br><span class="line">            <span class="keyword">if</span>(right - left + <span class="number">1</span> &gt; res.<span class="built_in">size</span>()) res = s.substr(left, right - left + <span class="number">1</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="O-n-的"><a href="#O-n-的" class="headerlink" title="O(n)的"></a>O(n)的</h2><p>这里也有一个线性时间复杂度的，详细的博客如下：<a href="https://blog.csdn.net/haut_ykc/article/details/52137496" target="_blank" rel="noopener">https://blog.csdn.net/haut_ykc/article/details/52137496</a></p>
<p>对应的代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">longestPalindrome</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ind_s = <span class="number">0</span>, ind_e = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">int</span> max_len = <span class="number">2010</span>;</span><br><span class="line">        <span class="keyword">char</span> strOut[max_len];</span><br><span class="line">        <span class="keyword">int</span> p[max_len], mx_id, len_p;</span><br><span class="line">        <span class="comment">//pre-process</span></span><br><span class="line">        len_p = proc(s, strOut);</span><br><span class="line">        <span class="comment">//manacher</span></span><br><span class="line">        Manacher(p, strOut, len_p);</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">int</span> mx_flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len_p; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p[i]&gt;mx_flag)&#123;</span><br><span class="line">                ind_s = i;</span><br><span class="line">                mx_flag = p[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ind_e = p[ind_s] - <span class="number">1</span>;</span><br><span class="line">        ind_s = (ind_s - p[ind_s])/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> s.substr(ind_s, ind_e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Manacher</span><span class="params">(<span class="keyword">int</span> *p, <span class="keyword">char</span> *strOut, <span class="keyword">int</span> len_p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mx=<span class="number">0</span>, mx_id = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len_p; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            p[i] = mx &gt; i ? <span class="built_in">min</span>(p[<span class="number">2</span>*mx_id - i], mx - i) : <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// cout&lt;&lt;"i+p[i] = "&lt;&lt;i+p[i]&lt;&lt;"; i-p[i] = "&lt;&lt;i-p[i]&lt;&lt;"; len_p = "&lt;&lt;len_p&lt;&lt;endl;</span></span><br><span class="line">            <span class="keyword">while</span>(i+p[i]&lt;len_p &amp;&amp; i-p[i]&gt;=<span class="number">0</span> &amp;&amp; strOut[i+p[i]]==strOut[i-p[i]])&#123;</span><br><span class="line">                p[i]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i + p[i] &gt; mx)&#123;</span><br><span class="line">                mx = i+p[i];</span><br><span class="line">                mx_id = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">proc</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">char</span> *strOut)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nLen = <span class="number">1</span>;</span><br><span class="line">        strOut[<span class="number">0</span>]=<span class="string">'!'</span>;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(s[i] != <span class="string">'\0'</span>)&#123;            </span><br><span class="line">            strOut[nLen++]=<span class="string">'#'</span>;strOut[nLen++]=s[i]; <span class="comment">// process the string</span></span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        strOut[nLen++]=<span class="string">'#'</span>;</span><br><span class="line">        strOut[nLen]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> nLen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2019-04-20. </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(53.%20Maximum%20Subarray)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(53.%20Maximum%20Subarray)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(53. Maximum Subarray)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-53-Maximum-Subarray-题解"><a href="#LeetCode-53-Maximum-Subarray-题解" class="headerlink" title="LeetCode(53. Maximum Subarray)题解"></a>LeetCode(53. Maximum Subarray)题解</h1><hr>
<p>Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.</p>
<p>Example:</p>
<pre><code>Input: [-2,1,-3,4,-1,2,1,-5,4],
Output: 6
Explanation: [4,-1,2,1] has the largest sum = 6.</code></pre><p>Follow up:</p>
<p>If you have figured out the O(n) solution, try coding another solution using the divide and conquer approach, which is more subtle.</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>Easy题，可以直接使用DC解决，使用两个值。从左到右遍历数组，一个值记录当前已遍历数组中最大的连续子数组，一个值记录当前已遍历数组中包括最右边元素在内的最大连续子数组。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.<span class="built_in">size</span>()==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums.<span class="built_in">size</span>()==<span class="number">1</span>) <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> maxa = nums[<span class="number">0</span>], maxb = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len; i++)&#123;</span><br><span class="line">            maxb = <span class="built_in">max</span>(<span class="number">0</span>, maxb);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(maxb+nums[i]&gt;<span class="number">0</span>) maxb += nums[i];</span><br><span class="line">            <span class="keyword">else</span> maxb = nums[i];</span><br><span class="line">            </span><br><span class="line">            maxa = <span class="built_in">max</span>(maxa, maxb);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxa;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2019-05-02</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(27.%20Remove%20Element)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(27.%20Remove%20Element)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(27. Remove Element)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-27-Remove-Element-题解"><a href="#LeetCode-27-Remove-Element-题解" class="headerlink" title="LeetCode(27. Remove Element)题解"></a>LeetCode(27. Remove Element)题解</h1><hr>
<p>原文如下<br>Do not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.</p>
<p>The order of elements can be changed. It doesn’t matter what you leave beyond the new length.</p>
<p>Example 1:</p>
<pre><code>Given nums = [3,2,2,3], val = 3,

Your function should return length = 2, with the first two elements of nums being 2.</code></pre><p>It doesn’t matter what you leave beyond the returned length.<br>Example 2:</p>
<pre><code>Given nums = [0,1,2,2,3,0,4,2], val = 2,

Your function should return length = 5, with the first five elements of nums containing 0, 1, 3, 0, and 4.</code></pre><p>Note that the order of those five elements can be arbitrary.</p>
<p>It doesn’t matter what values are set beyond the returned length.<br>Clarification:</p>
<p>Confused why the returned value is an integer but your answer is an array?</p>
<p>Note that the input array is passed in by reference, which means modification to the input array will be known to the caller as well.</p>
<p>Internally you can think of this:</p>
<pre><code>// nums is passed in by reference. (i.e., without making a copy)
int len = removeElement(nums, val);

// any modification to nums in your function would be known by the caller.
// using the length returned by your function, it prints the first len elements.
for (int i = 0; i &lt; len; i++) {
    print(nums[i]);
}</code></pre><h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>这是一个easy题，直接使用vector的erase函数即可，在遍历的时候发现与val一样的数直接删除，注意的是函数不仅要返回正确的length，还要返回正确的vector。同时不要花费太多的space。</p>
<p>这是一种方式，（4ms），代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">removeElement</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i]!=val) <span class="keyword">continue</span>;</span><br><span class="line">            nums.erase(nums.<span class="built_in">begin</span>()+i);</span><br><span class="line">            i--;</span><br><span class="line">            len--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="解法二"><a href="#解法二" class="headerlink" title="解法二"></a>解法二</h2><p>根据题意我们只要将vector前面正确length内的容器内放入正确的数就可以了，因此可以用一个位置来记录，当发现与一样的数的时候，将后面的数直接覆盖前面的就可以了。</p>
<p>代码如下(4ms)：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">removeElement</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;len; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[j]!=val) nums[i++] = nums[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(28.%20Implement%20strStr())%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(28.%20Implement%20strStr())%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(28. Implement strStr())题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-28-Implement-strStr-题解"><a href="#LeetCode-28-Implement-strStr-题解" class="headerlink" title="LeetCode(28. Implement strStr())题解"></a>LeetCode(28. Implement strStr())题解</h1><hr>
<p>原文如下：<br>Implement strStr().</p>
<p>Return the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack.</p>
<p>Example 1:</p>
<pre><code>Input: haystack = &quot;hello&quot;, needle = &quot;ll&quot;
Output: 2</code></pre><p>Example 2:</p>
<pre><code>Input: haystack = &quot;aaaaa&quot;, needle = &quot;bba&quot;
Output: -1</code></pre><p>Clarification:</p>
<p>What should we return when needle is an empty string? This is a great question to ask during an interview.</p>
<p>For the purpose of this problem, we will return 0 when needle is an empty string. This is consistent to C’s strstr() and Java’s indexOf().</p>
<h2 id="题意思路"><a href="#题意思路" class="headerlink" title="题意思路"></a>题意思路</h2><p>Easy题。第一次想得有点多，还是老思路，不应该自己造轮子。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isMatch</span><span class="params">(<span class="keyword">int</span> sta, <span class="built_in">string</span> h, <span class="keyword">int</span> hl, <span class="built_in">string</span> n, <span class="keyword">int</span> nl)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(sta&lt;hl &amp;&amp; j&lt;nl &amp;&amp; h[sta++]==n[j++]);</span><br><span class="line">        <span class="keyword">return</span> j==nl &amp;&amp; h[sta<span class="number">-1</span>]==n[j<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">strStr</span><span class="params">(<span class="built_in">string</span> haystack, <span class="built_in">string</span> needle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> hl = haystack.<span class="built_in">size</span>(), nl = needle.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=hl-nl; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(isMatch(i, haystack, hl, needle, nl)) <span class="keyword">return</span> i;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>其实有个更简单方式，利用string的substr。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">strStr</span><span class="params">(<span class="built_in">string</span> haystack, <span class="built_in">string</span> needle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> hl = haystack.<span class="built_in">size</span>(), nl = needle.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=hl-nl; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(haystack.substr(i, nl)==needle) <span class="keyword">return</span> i;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2019-04-24。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(30.%20Substring%20with%20Concatenation%20of%20All%20Words)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(30.%20Substring%20with%20Concatenation%20of%20All%20Words)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(30. Substring with Concatenation of All Words)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-30-Substring-with-Concatenation-of-All-Words-题解"><a href="#LeetCode-30-Substring-with-Concatenation-of-All-Words-题解" class="headerlink" title="LeetCode(30. Substring with Concatenation of All Words)题解"></a>LeetCode(30. Substring with Concatenation of All Words)题解</h1><hr>
<p>You are given a string, s, and a list of words, words, that are all of the same length. Find all starting indices of substring(s) in s that is a concatenation of each word in words exactly once and without any intervening characters.</p>
<p>Example 1:</p>
<pre><code>Input:
s = &quot;barfoothefoobarman&quot;,
words = [&quot;foo&quot;,&quot;bar&quot;]
Output: [0,9]</code></pre><p>Explanation: Substrings starting at index 0 and 9 are “barfoor” and “foobar” respectively.<br>The output order does not matter, returning [9,0] is fine too.<br>Example 2:</p>
<pre><code>Input:
s = &quot;wordgoodgoodgoodbestword&quot;,
words = [&quot;word&quot;,&quot;good&quot;,&quot;best&quot;,&quot;word&quot;]
Output: []</code></pre><h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>这是一个Hard题，要求给出一个字符串s和一个vector记录的相同长度的字符串。然后vector内的字符串随机组合之后的字符串是否是s的一个子串，如果是的话就记录下这个索引位置，最后返回一个vector。</p>
<p>这个题其实不难，可以只需要从头到尾遍历一下字符串，然后每次取一个固定长度的子串，看看这个子串是不是vector的字符串可以组合出来的，可以的话就记录下这个子串开始的位置。否则就看下一个，一个for循环就可以。</p>
<p>关键是如何判断一个字符串s是否可以由多个相同长度的字符串组合而成。这里我使用了map，将vector的各个字符串作为key，对应的个数作为value。只要依次从s中从前到后截取对应长度的子串看看在map中是否存在，最后判断是不是所有的子串都存在，且map中没有额外的存在了，就可以认为map中的字符串是可以组合而成的，否则就不能。</p>
<p>这样的代码可以AC，但花费了300MB内存，花费920ms。主要是map花费时间太多。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isStarting</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> wlen, <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; mp, <span class="keyword">int</span> vlen)</span></span>&#123;</span><br><span class="line">        <span class="built_in">string</span> sstr;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::iterator iter;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;vlen; i++)&#123;</span><br><span class="line">            sstr = s.substr(i*wlen, wlen);</span><br><span class="line">            iter = mp.<span class="built_in">find</span>(sstr);</span><br><span class="line">            <span class="keyword">if</span>(iter == mp.<span class="built_in">end</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            mp[sstr]--;</span><br><span class="line">            <span class="keyword">if</span>(mp[sstr] &lt;= <span class="number">0</span>) mp.erase(sstr);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">findSubstring</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ret;</span><br><span class="line">        <span class="keyword">int</span> slen = s.<span class="built_in">size</span>(), vlen = words.<span class="built_in">size</span>(), wlen;</span><br><span class="line">        <span class="keyword">if</span>(slen==<span class="number">0</span> || vlen==<span class="number">0</span>) <span class="keyword">return</span> ret;</span><br><span class="line">        wlen = words[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(wlen==<span class="number">0</span>) <span class="keyword">return</span> ret;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; mp;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::iterator iter;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;vlen; i++)&#123;</span><br><span class="line">            iter = mp.<span class="built_in">find</span>(words[i]);</span><br><span class="line">            <span class="keyword">if</span>(iter != mp.<span class="built_in">end</span>()) mp[words[i]] += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> mp[words[i]] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        slen -= wlen * vlen;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=slen; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(isStarting(s.substr(i, wlen*vlen), wlen, mp, vlen)) ret.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>但这个也有很多可以优化的地方，比如不在map里使用erase函数。代码如下（还是很慢）：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isStarting</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> wlen, <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; mp, <span class="keyword">int</span> vlen)</span></span>&#123;</span><br><span class="line">        <span class="built_in">string</span> sstr;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::iterator iter;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;vlen; i++)&#123;</span><br><span class="line">            sstr = s.substr(i*wlen, wlen);</span><br><span class="line">            iter = mp.<span class="built_in">find</span>(sstr);</span><br><span class="line">            <span class="keyword">if</span>(iter == mp.<span class="built_in">end</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            mp[sstr]--;</span><br><span class="line">            <span class="keyword">if</span>(mp[sstr] &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">findSubstring</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ret;</span><br><span class="line">        <span class="keyword">int</span> slen = s.<span class="built_in">size</span>(), vlen = words.<span class="built_in">size</span>(), wlen;</span><br><span class="line">        <span class="keyword">if</span>(slen==<span class="number">0</span> || vlen==<span class="number">0</span>) <span class="keyword">return</span> ret;</span><br><span class="line">        wlen = words[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(wlen==<span class="number">0</span>) <span class="keyword">return</span> ret;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; mp;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::iterator iter;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;vlen; i++)&#123;</span><br><span class="line">            iter = mp.<span class="built_in">find</span>(words[i]);</span><br><span class="line">            <span class="keyword">if</span>(iter != mp.<span class="built_in">end</span>()) mp[words[i]] += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> mp[words[i]] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        slen -= wlen * vlen;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=slen; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(isStarting(s.substr(i, wlen*vlen), wlen, mp, vlen)) ret.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave，2019-05-05。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(29.%20Divide%20Two%20Integers)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(29.%20Divide%20Two%20Integers)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(29. Divide Two Integers)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-29-Divide-Two-Integers-题解"><a href="#LeetCode-29-Divide-Two-Integers-题解" class="headerlink" title="LeetCode(29. Divide Two Integers)题解"></a>LeetCode(29. Divide Two Integers)题解</h1><hr>
<p>Given two integers dividend and divisor, divide two integers without using multiplication, division and mod operator.</p>
<p>Return the quotient after dividing dividend by divisor.</p>
<p>The integer division should truncate toward zero.</p>
<p>Example 1:</p>
<pre><code>Input: dividend = 10, divisor = 3
Output: 3</code></pre><p>Example 2:</p>
<pre><code>Input: dividend = 7, divisor = -3
Output: -2</code></pre><p>Note:</p>
<pre><code>Both dividend and divisor will be 32-bit signed integers.
The divisor will never be 0.
Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [−231,  231 − 1]. For the purpose of this problem, assume that your function returns 231 − 1 when the division result overflows.</code></pre><h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>这是一个Medium的题，要求在不使用乘法、除法和求余数的情况下得到两个数相除的整数结果。（其实直接使用除法符号也可以AC，但这违背了题目的原则，还是不要用了）。</p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>最简单的方式就是在相同符号的情况下用被除数减除数，直到被除数的绝对值大小小于除数绝对值。减的次数就是除法结果，但是这样会超时，比如当被除数为2^31-1，除数为1的时候，就需要遍历2^31-1次，这是不可取的。</p>
<p>我们不能这么笨地一步步减，就像TCP传输报文的策略一样，只要没有遇到天花板，TCP单位时间内发送的报文是不断递增的，直到出现丢包。所以，我们可以将这种思想用在这道题上，每次不断用被除数减去除数的n倍，然后减法次数记录加上n，下一次被除数减去2n倍除数，减法记录次数加上2n，···，直到被除数不能减去除数为止。</p>
<p>但是这时候，不能直接返回函数，因为此时除数是初始除数的好多倍，所以不能保证被除数此时比初始除数小。比如我们假设被除数=7，除数=3，除数使用每次<em>2的方式增大。那么一开始7&gt;3，被除数变为4=7-3，除数变为6=3</em>2，结果记录1，然后被除数4&lt;6，但4&gt;3，此时不能直接返回。因此接下来除数应该变为3，然后再比较，将被除数变为1=4-3，结果记录为2，再返回。</p>
<p>所以，综上，我们应该使用被除数-除数，然后不断增大除数，每次减去之后，除数增大，当不能相减时，除数应该逐步回退到初始大小，然后直到被除数与初始大小的除数都不能相减后，函数才能结束。</p>
<p>这里有一个问题，除数以什么方式增大，最简单的方式是每次<em>2，然后回退的时候每次/2，但是题目要求不要用</em>和/号，那么我们就一丁点都不用。这里有个方式增大，设立两个变量：fore=1，back=0，然后每次增大的时候，fore=fore+back，back则变为上一次的fore，这样（fore，back）就每次为（1，0）（1，1）（2，1）（3，2）（5，3）（8，5）···。然后回退的时候，fore=back，back=fore-back。因为fore-back恰好是上一次迭代的back，所以可以不断回退。这就完全不需要使用*和/了。</p>
<p>PS：这个题的数使用int记录值，要特别注意越界的问题，int的取值范围是[-2^31, 2^31)。</p>
<p>代码如下，其实也可以不用每次都减，可以先不断增大除数直到不能减的前一个即最大的可以减的除数，然后减去之后再逐步减小，保证每次被除数减去除数的时候，除数总是被除数可以减去的最大倍数的除数，但是我这样写就可以达到最快的速度，所以就不改了（4ms）：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(dividend==-<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">31</span>) &amp;&amp; divisor==<span class="number">-1</span>) <span class="keyword">return</span> <span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">31</span>)<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span>(dividend==-<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">31</span>) &amp;&amp; divisor==<span class="number">1</span>) <span class="keyword">return</span> -<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">31</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">bool</span> s = ((dividend&lt;<span class="number">0</span> &amp;&amp; divisor&lt;<span class="number">0</span>)||(dividend&gt;<span class="number">0</span> &amp;&amp; divisor&gt;<span class="number">0</span>)) ? <span class="literal">true</span>:<span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(dividend!=-<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">31</span>))</span><br><span class="line">            dividend = dividend&gt;<span class="number">0</span> ? -dividend:dividend;</span><br><span class="line">        <span class="keyword">if</span>(divisor!=-<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">31</span>))        </span><br><span class="line">            divisor = divisor&gt;<span class="number">0</span> ? -divisor:divisor;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        <span class="keyword">int</span> fore = <span class="number">1</span>, back = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> fore_div = divisor, back_div = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(!(fore_div+back_div &lt; dividend &amp;&amp; back &lt;= <span class="number">0</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span>(fore_div+back_div &gt;= dividend)&#123;</span><br><span class="line">                res += fore + back;</span><br><span class="line">                dividend -= fore_div + back_div;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(-<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">31</span>)-fore_div &gt; fore_div+back_div) <span class="keyword">continue</span>;</span><br><span class="line">                temp = fore;</span><br><span class="line">                fore = fore + back;</span><br><span class="line">                back = temp;</span><br><span class="line">                </span><br><span class="line">                temp = fore_div;</span><br><span class="line">                fore_div = fore_div + back_div;</span><br><span class="line">                back_div = temp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                temp = fore;</span><br><span class="line">                fore = back;</span><br><span class="line">                back = temp - back;</span><br><span class="line">                </span><br><span class="line">                temp = fore_div;</span><br><span class="line">                fore_div = back_div;</span><br><span class="line">                back_div = temp - back_div;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(s) <span class="keyword">return</span> res;</span><br><span class="line">        <span class="keyword">return</span> -res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>BitBrave, 2019-04-30</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/11/LeetCode(20.%20Valid%20Parentheses)%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/11/LeetCode(20.%20Valid%20Parentheses)%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">LeetCode(20. Valid Parentheses)题解</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-05-11 10:09:03" itemprop="dateCreated datePublished" datetime="2019-05-11T10:09:03+08:00">2019-05-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LeetCode-20-Valid-Parentheses-题解"><a href="#LeetCode-20-Valid-Parentheses-题解" class="headerlink" title="LeetCode(20. Valid Parentheses)题解"></a>LeetCode(20. Valid Parentheses)题解</h1><hr>
<p>原文如下<br>Given a string containing just the characters ‘(‘, ‘)’, ‘{‘, ‘}’, ‘[‘ and ‘]’, determine if the input string is valid.</p>
<p>An input string is valid if:</p>
<p>Open brackets must be closed by the same type of brackets.<br>Open brackets must be closed in the correct order.<br>Note that an empty string is also considered valid.</p>
<p>Example 1:</p>
<pre><code>Input: &quot;()&quot;
Output: true</code></pre><p>Example 2:</p>
<pre><code>Input: &quot;()[]{}&quot;
Output: true</code></pre><p>Example 3:</p>
<pre><code>Input: &quot;(]&quot;
Output: false</code></pre><p>Example 4:</p>
<pre><code>Input: &quot;([)]&quot;
Output: false</code></pre><p>Example 5:</p>
<pre><code>Input: &quot;{[]}&quot;
Output: true</code></pre><h2 id="题意理解，Easy题，直接使用STL的栈就可以了。代码非常简单。"><a href="#题意理解，Easy题，直接使用STL的栈就可以了。代码非常简单。" class="headerlink" title="题意理解，Easy题，直接使用STL的栈就可以了。代码非常简单。"></a>题意理解，Easy题，直接使用STL的栈就可以了。代码非常简单。</h2><p>代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isLeft</span><span class="params">(<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'('</span>: <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'['</span>: <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'&#123;'</span>: <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">default</span>: <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isMatch</span><span class="params">(<span class="keyword">char</span> a, <span class="keyword">char</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>((a==<span class="string">'('</span> &amp;&amp; b==<span class="string">')'</span>) || (a==<span class="string">'['</span> &amp;&amp; b==<span class="string">']'</span>) || (a==<span class="string">'&#123;'</span> &amp;&amp; b==<span class="string">'&#125;'</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isValid</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; st;</span><br><span class="line">        <span class="keyword">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(isLeft(s[i])) st.push(s[i]);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(!st.empty())&#123;</span><br><span class="line">                <span class="keyword">if</span>(!isMatch(st.top(), s[i])) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                st.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> st.empty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/18/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><span class="page-number current">19</span><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/20/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">207</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
